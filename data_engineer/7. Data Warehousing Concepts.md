# 데이터 웨어하우스 개념 

## 데이터 웨어하우스 라이프사이클
- 데이터 웨어하우스 프로젝트는 3가지 주요 단계로 구성된다.
  1) 계획 단계(Planning) : 요구사항 수집 및 데이터 모델링을 통해 데이터 웨어하우스의 구조를 정의한다.

     1-1) 요구사항 수집
      - data analyst : 비즈니스와 협업해 의사결정을 지원한다.
      - data scientist : 머신러닝 모델로 프로세스를 자동화하고 효율을 개선한다.

     1-2) 데이터 모델링
      - data engineer : 데이터 파이프라인을 설계한다.
      - database admin : 트랜잭션 데이터베이스를 관리한다.
      - data analyst & data scientist : 데이터 모델이 비즈니스 목표에 부합하는지 확인한다.
     
  3) 구현 단계(Implementation) : ETL(Extract, Transform, Load) 프로세스 설계 및 BI(Business Intelligence) 애플리케이션 개발을 한다.

     2-1) ETL 설계 및 개발
       - data engineer : 데이터 파이프라인을 구축한다.
       - database admin : 데이터 소스에서의 데이터 추출을 지원한다.

     2-2) BI 애플리케이션 개발
       - data analyst & data scientist : BI 도구 설정에 자문을 제공한다.
    
  5) 지원 및 유지보수 단계(Support & Maintenance) : 데이터 웨어하우스 업데이트, 테스트 및 배포를 진행한다.

     3-1) 유지보수
       - data engineer : 유지보수 및 업데이트를 실행한다.

     3-2) 테스트 및 배포
       - data analyst & data scientist : 시스템이 요구사항을 충족하는지 테스트한다.
       - data engineer : 시스템을 배포하고 조직에서 사용가능하게 한다.

  -> 주요 변경사항이 생기면 다시 계획단계(Planning)로 돌아간다.


## 각 단계별 주요 역할
1) 데이터 분석가 & 데이터 사이언티스트
  - 비즈니스 요구사항을 수집하고 BI 도구 설정을 지원한다.
2) 데이터 엔지니어 & 데이터베이스 관리자(admin)
  - 데이터 파이프라인을 구축하고, 원천 시스템에서 데이터 추출을 담당한다.

<hr>

## 데이터 웨어하우스 vs 데이터 레이크 vs 데이터 마트 

1) 데이터 베이스(Database)
     - 테이블(행과 열) 형태로 정보를 저장하는 구조화된 시스템이다.
     - 조직 내 트랜잭션 데이터를 저장하는 용도로 사용한다.
     - (ex) 고객 구매 정보를 저장한다.
     - 한계 : 대규모 분석 쿼리 수행 시 속도가 느려지고, 트랜잭션 처리 성능에 영향을 줄 수 있다.

2) 데이터 웨어하우스(Data Warehouse)
     - 조직의 **여러부서** 에서 **데이터를 통합** 하여 중앙 집중식 분석이 가능하도록 구축된 저장소이다.
     - **다양한 데이터 소스** (여러 데이터베이스, 로그 파일 등)에서 데이터를 수집한다.
     - ETL(Extract, Transform, Load) 프로세스를 통해 데이터를 구조화된 테이블 형태로 저장한다.
     - **100GB 이상으로 대규모 데이터 저장** 이 가능하다.
     - **구조 변경이 어렵고** , **upstream 및 downstream effect** 가 크다.
       (Upstream effects are those that occur before a product or service is used,
       while downstream effects are those that occur after a product or service is used.)

3) 데이터 마트(Data Mart)
     - 특정부서(ex.재무팀, 마케팅팀)에서 사용할 데이터만 저장하는 관계형 데이터베이스
     - 데이터 웨어하우스처럼 **구조화된 데이터를 저장** 하지만, **한 부서의 데이터만 포함** 한다.
     - 입력 데이터 소스가 적다.(주로 데이터 웨어하우스의 일부 데이터를 활용한다.)
     - 크기는 일반적으로 100GB 이하로, 데이터웨어하우스보다 작다.

4) 데이터 레이크(Data Lake)
     - 데이터 웨어하우스처럼 조직 전체 데이터를 저장하지만, **비정형 데이터(영상, 오디오, 이미지 등)도 저장** 할 수 있다.
     - 여러 부서의 데이터를 저장하며, **다양한 데이터 소스를 수용** 한다.
     - **데이터의 구조를 사전에 정의할 필요 없이** **유연하게 저장** 이 가능하다.
     - **데이터 활용 목적이 명확하지 않은 경우** 에도, 미래 분석을 위해 **데이터 보관이 가능** 하다.
     - **데이터 웨어하우스보다 유연한 구조를 가지며, 변경이 용이하다.**
  
   ![Image](https://github.com/user-attachments/assets/845b7168-0f87-4f60-9003-3bc328daa71d)

<hr>

## 데이터 웨어하우스 아키텍처와 4가지 레이어 
- 데이터 웨어하우스(Data Warehouse)는 **비즈니스 의사결정을 지원하기 위해 데이터를 **수집,저장,분석** 하는 시스템이다.
- 일반적으로 데이터웨어하우스는 **4가지 주요 레이어** 로 구성된다.

## 1. 데이터 소스 레이어(Data Source Layer)
- 데이터 웨어하우스의 첫 번째 단계로, **다양한 데이터 소스에서 데이터를 가져오는 역할** 을 한다.
- 주요 데이터 소스
    - 트랜잭션 데이터베이스 : 기업의 운영 시스템(ex.ERP, CRM, POS 시스템 등)
    - 파일 데이터 : CSV, JSON, XML 등
    - 기타 데이터 : 로그 데이터, 센서 데이터 등 구조적/비구조적 데이터

## 2. 데이터 스테이징 레이어(Data Staging Layer)
- **데이터를 변환하고 정제** 하는 단계로, ETL(Extract,Transform,Load) 프로세스를 포함한다.
    - ETL 프로세스
        1. Extract(추출) : 원본 데이터 소스에서 데이터를 가져온다.
        2. Transform(변환) : 데이터 정제, 비즈니스 규칙 적용, 포맷 변환 등을 수행한다.
        3. Load(적재) : 변환된 데이터를 데이터 웨어하우스에 저장한다.
     
- 스테이징 레이어에서는 데이터를 **임시 테이블(Stageing Table)** 에 저장하여 다음 단계에서 사용할 수 있도록 준비한다.

## 3. 데이터 저장 레이어(Data Storage Layer)
- **데이터를 장기적으로 저장** 하는 공간으로, 데이터 웨어하우스와 데이터 마트(Data Mart)로 구성된다.
    - 데이터 저장 방식
        - **데이터 웨어하우스 -> 데이터 마트** : 데이터가 먼저 웨어하우스에 저장된 후 특정 목적에 맞게 데이터 마트로 이동한다.
        - **데이터 마트 -> 데이터 웨어하우스** : 데이터 마트에서 특정 데이터를 먼저 저장하고 이후 웨어하우스로 통합된다.
    - * 데이터 마트(Data Mart)란?
          - 특정 부서나 목적(ex.마케팅, 인사, 영업)에 맞춰 세분화된 데이터 저장소
          - 성능 최적화 및 빠른 조회를 위해 활용된다.

## 4. 데이터 프레젠테이션 레이어(Data Presentation Layer)
- **사용자가 데이터를 조회하고 분석** 하는 단계로, 비즈니스 인텔리전스(BI)도구를 활용해 데이터를 시각화하고 인사이트를 도출할 수 있다.
    - 데이터 분석 도구
        - BI 툴 : PowerBI, Tableau, Looker 등
        - 데이터 마이닝 도구 : 머신러닝 기반 분석 활용
        - SQL 쿼리 : 직접 데이터 조회 및 분석

- 사용자는 대시보드, 그래프, 차트 등을 통해 데이터를 쉽게 이해하고, 의사결정에 활용할 수 있다.


