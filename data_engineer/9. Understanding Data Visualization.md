## 데이터 시각화 : 그림 한 장이 천 마디 말을 대신한다.
- 본 챕터에서는 데이터 유형에 맞는 적절한 그래프를 선택하는 방법과 다양한 그래프의 해석법을 배운다.

## 데이터에서 인사이트를 얻는 3가지 방법

### 1. 요약 통계량 계산(Summary Statistics)
- 평균(mean), 중앙값(median), 표준편차(standard deviation) 등과 같은 값을 **계산하여 데이터의 경향을 파악**한다.

### 2. 통계 모델링(Statistical Modeling)
- 선형 회귀(linear regression)나 로지스틱 회귀(logistic regression) 등의 **통계 모델을 사용하여 변수간의 관계를 분석** 한다.

### 3. 데이터 시각화(Data Visualization)
- 히스토그램(histogram), 박스 플롯(box plot), 산점도(scatter plot) 등의 **그래프를 통해 데이터를 시각적으로 탐색** 한다.

이 세 가지 방법은 서로 보완적으로 사용되며, 이 챕터에서는 세 번째 방법인 **데이터 시각화** 에 초점을 맞춘다.

## 데이터 시각화의 중요성 - Datasaurus Dozen
![Image](https://github.com/user-attachments/assets/ab0b1891-5066-425f-8f30-b20be5a62069)

- 데이터 셋의 요약 통계는 같아도 시각적으로 다를 수 있다.
    - Datasaurus Dozen 은 13개의 데이터셋을 포함한 실험적인 데이터 모음이다.(**모양은 다르지만, 요약 통계는 동일한 13개의 데이터 셋**)
    - 각 데이터 셋은 `x` 와 `y` 좌표 값을 포함하며, 평균(mean) 과 표준편차(standard deviation) 같은 통계 값이 모두 동일하다.
- 숫자로만 보면 차이를 알 수 없다.
    - 13 개의 데이터 셋의 `x` 값 평균 → 모두 동일
    - 13 개의 데이터 셋의 `y` 값 평균 → 모두 동일
    - 13 개의 데이터 셋의 `x` 와 `y` 의 표준편차 → 모두 동일
- 그래프로 보면, 완전히 다르다!
    - 직접 그래프를 그려보면, 데이터셋의 모양이 **선, 원, 별 모양, 공룡 모양** 등 **완전히 다름** 을 알 수 있다.
    - 이 실험은 **데이터를 직접 시각화하는 것이 얼마나 중요한지** 를 보여준다.

## 데이터 유형 - 연속형(Continuous) vs 범주형(Categorical)
- 데이터의 유형에 따라 적절한 그래프를 선택해야 한다.

### 연속형 데이터(Continuous Variables)
- 수치형 데이터로, **연산(더하기,빼기 등)이 가능** 하다.
- (ex) 키, 온도, 매출액, 연령(숫자로 표현될 때)
- 주로 **히스토그램, 산점도, 선 그래프** 등의 시각화 기법을 사용한다.

### 범주형 데이터(Categorical Variables)
- **특정 그룹이나 카테고리로 분류** 되는 데이터로, **연산이 불가능** 하다.
- (ex) 눈 색깔(파랑,갈생 등), 국가명, 산업 유형,
- 주로 **막대 그래프, 파이 차트** 등의 시각화 기법을 사용한다.

### 경우에 따라 연속형 또는 범주형으로 취급될 수 있는 데이터
- 나이(Age) : **숫자로 표현되면 연속형**, **특정 연령 그룹(ex 25~30세) 으로 묶이면 범주형**
- 시간(Time) : **초, 분, 시간 단위로 표현되면 연속형**, **월별 변화를 보고 싶다면 범주형** 으로 취급할 수 있다.
- 데이터 유형을 정하는 것은 **분석 목적** 에 따라 달라질 수 있다.

## 결론 : 데이터는 시각적으로 분석해야 한다.
- 숫자만으로 데이터의 패턴을 이해하는 것은 어렵다.
- `Datasaurus Dozen` 실험을 통해 데이터 시각화의 중요성을 명심하자.
- 데이터 유형(연속형vs범주형) 에 따라 적절한 그래프를 선택하는 것이 중요하다.

<hr>

## 히스토그램(Histogram) : 연속형 데이터의 분포를 시각화하기
- **히스토그램** 은 **연속형 변수의 분포를 분석하는 데 사용** 되는 대표적인 그래프이다. 본 챕터에서는 히스토그램을 언제 사용해야 하는지, 해석하는 방법, 그리고 적절한 `bandwith`(구간 너비)를 설정하는 방법에 대해 배운다.

## 히스토그램이란?
- 히스토그램은 **연속형 변수(Continuous Variable)** 의 **분포(Distribution)** 를 보여주는 그래프이다.
- 데이터가 어느 범위에서 가장 많이 나타나는지, 최소/최대 값이 무엇인지, 분포의 형태가 어떠한지를 시각적으로 확인할 수 있다.
- (ex) 영국과 영국 이전의 왕과 여왕 나이 데이터
    - 데이터 셋 : 영국과 잉글랜드 왕들의 즉위 연령(Age at Start of Rule)
    - 분석 목표 : 왕들이 몇 살 때 왕위에 올랐는지 확인하기 위해 히스토그램 사용

## 히스토그램 해석 방법
- X축과 Y축의 의미
    - `X축` : 분석하려는 연속형 변수(ex. 즉위 연령)
    - `Y축` : 해당 연령대에서 즉위한 왕의 수(빈도)
- (ex) 영국 왕들의 즉위 연령 히스토그램
    ![Image](https://github.com/user-attachments/assets/cde557b0-d64f-4c3f-8d67-bfd8d2e65e9e)
  
    - 특정 연령대(ex.10~15세)에서 즉위한 왕이 4명
    - 45~50세 사이에 즉위한 왕이 없다 → 데이터의 공백 확인 가능

## 적절한 `binwith` (구간너비) 설정하기
- 히스토그램 모양은 **구간 너비(binwith)** 에 따라 크게 달라진다.
### 너무 작은 binwith(ex.1년 단위)
![Image](https://github.com/user-attachments/assets/7b5cbb4c-fa6b-40ce-8e3a-42dcadb99d17)
- 데이터가 너무 세분화되어 노이즈(noise)가 많아지고, 전반적인 패턴을 파악하기 어렵다.
    
### 너무 큰 binwith(ex.25년 단위)
![Image](https://github.com/user-attachments/assets/0efd6012-9be6-486b-9373-24d51273111d)
- 데이터가 과도하게 뭉쳐져서 분포의 세부적인 특징을 놓칠 수 있다.

### 해결방법 : **여러 `binwith` 값을 시도하면서 최적의 값을 찾아야 한다.**

## 히스토그램에서 주의해야 할 분포 특성

## 1. 모달리티(Modality) : 피크(peak)의 개수
- 데이터 분포에서 최대값을 나타내는 **봉우리(peak)의 개수** 를 확인한다.
![Image](https://github.com/user-attachments/assets/cb7df50a-1f76-41b4-9ee1-ffbb80a8b268)

- **Unimodal(단봉형)** : 피크가 `하나` → 보통의 정규 분포(normal distribution)
- **Bimodal(쌍봉형)** : 피크가 `두 개` → 두 개의 그룹이 존재
- **Multimodal(다봉형)** : 피크가 `여러 개` → 여러 개의 그룹이 존재

- (ex) 영국 왕 즉위 연령 데이터
  
![Image](https://github.com/user-attachments/assets/78dac9a7-5327-4a2c-bf18-9a338527615b)

- **Unimodal(단봉형)** 분포 → 25~35세에 즉위한 왕이 가장 많다.

## 2. 왜도(Skewness) : 분포가 좌우 대칭인가?

![Image](https://github.com/user-attachments/assets/1f0fd79a-1b71-470f-809c-a7eda8b9e205)

- **좌측 왜도(Left-Skewed)** : `극단적인 작은 값(outlier)` 이 `왼쪽` 에 있다. → 케밥이라고 생각하면, 좌측왜도는 꼬챙이가 왼쪽을 가리킨다.
- **우측 왜도(Right-Skewed)** : `극단적인 큰 값(outlier)` 이 `오른쪽` 에 있다. → 케밥이라고 생각하면, 우측왜도는 꼬챙이가 오른쪽을 가리킨다.
- **대칭(Symmetric)** : `좌우로 대칭` 적인 정규 분포

- (ex) 영국 왕 즉위 연령 데이터
  
![Image](https://github.com/user-attachments/assets/78dac9a7-5327-4a2c-bf18-9a338527615b)

- 대체로 **대칭적인** 분포(Symmetric Distribution)

## 3. 첨도(Kurtosis) : 극단값의 개수

![Image](https://github.com/user-attachments/assets/25cf7cbb-a306-4a32-8097-3409cea1371b)
- **Leptokurtic(첨도가 높다)** : `좁고 뾰족` 한 피크, `극단값(outlier)이 많다`.
- **Platykurtic(첨도가 낮다)** : `넓고 완만한`  피크, `극단값(outlier)이 적다`.
- **Mesokurtic(중간 첨도)** : 일반적인 `종 모양` 분포(normal distribution)

- (ex) 영국 왕 즉위 연령 데이터

![Image](https://github.com/user-attachments/assets/78dac9a7-5327-4a2c-bf18-9a338527615b)

- 약간 **Platykurtic(첨도가 낮은 분포)**

<hr>

## 박스플롯(Box Plot) : 연속형 변수의 분포 비교하기
- **박스플롯** 은 **연속형 변수를 범주형 변수에 따라 나누어 비교하는** 강력한 도구다. 본 챕터에서는 **박스 플롯을 사용하는 이유, 구성요소, 그리고 데이터를 해석하는 방법** 을 배운다.

## 히스토그램의 한계 : 여러 그룹 비교가 어렵다!

(ex) 영국 왕과 여왕 즉위 연령 데이터
- 왕가(ex.Windsor,Wessex)에 따라 즉위 연령 분포를 비교하고 싶다.
- 하지만, 히스토그램을 여러 개 겹쳐서 그리면 데이터가 엉망이 된다.
![Image](https://github.com/user-attachments/assets/0bb6dddf-dc0d-4693-8d57-bc0a6dfba90b)

### 해결방법
(1) 각 왕가별로 별도의 히스토그램 패널을 만들어 비교할 수 있다.

![Image](https://github.com/user-attachments/assets/fd91c025-9b67-4b39-9798-2caad8adf8b8)

→ 하지만, 같은 열에 있지 않다면, 비교가 한 눈에 쉽게 보이지는 않는다. 그렇다고 모든 히스토그램을 하나의 열로 정렬해서 비교하기에는 너무 세로로 길게 늘어질 우려가 있다.

![Image](https://github.com/user-attachments/assets/6e9577c0-ade9-4a97-b173-843dde04ea69)


**(2) **박스플롯(Box Plot)** 을 사용하면 공간 효율적으로 여러 그룹의 분포를 한눈에 비교할 수 있다.**


## 박스 플롯(Box Plot)이란?
- **연속형 변수(Continuous Variable)** 를 **범주형 변수(Categorical Variable)** 별로 나누어 비교하는 플롯
- 데이터의 **중앙값, 사분위수, 이상치(Outlier)** 등을 시각적으로 표현할 수 있다.

## 박스 플롯의 주요 구성 요소

### 1. `중앙성(Median=Q2,50%)`
![Image](https://github.com/user-attachments/assets/96923879-642d-4c0f-aad3-21603abff978)

- 박스 내부의  가운데 선
- 데이터의 **중앙값(Median)** 을 나타낸다. → **전체 데이터의 절반이 이 값보다 크고, 절반은 이 값보다 작다.**

### 2. `박스(Box)`
![Image](https://github.com/user-attachments/assets/073e8a78-83cd-4b6a-919e-8e7d05dd6f3c)

- 박스는 **하위 사분위수(=Q1,25%) ~ 상위 사분위수(=Q3, 75%) 범위**를 나타낸다.
- `하위 사분위수(=Q1,25%)` 는 `박스의 하단 경계선` 이고, `상위 사분위수(=Q3, 75%)` 는 `박스의 상단 경계선`이다.
- 즉, 데이터의 **가운데 50%** 가 포함된다.
- **사분위 범위(IQR, Interquartile Range) = `Q3-Q1`** → `IQR이 클수록` `데이터의 변동성이 크다` 는 의미이다.

### 3. 수염(Whiskers) : 양쪽에 수염처럼 달린 선
![Image](https://github.com/user-attachments/assets/683c0e66-1392-49f5-b037-1474848b07f2)

- 수염(whiskers)은 데이터의 최소값/최대값이 아닌, **이상치(Outlier)를 제외한 최대, 최소 데이터 포인트** 를 나타낸다.
- 최대 길이
    - `Q3 + 1.5 * IQR` 이하에서 실제 데이터 값 중 **가장 큰 값**
    - `Q1 - 1.5 * IQR` 이상에서 실제 데이터 값 중 **가장 작은 값**

### 4. 이상치(Outlier)
- 수염 밖의 **`극단적인 값`**
- **이상치는 개별 점(point)으로 표시** 된다.

## (ex) 왕가 박스 플롯
![Image](https://github.com/user-attachments/assets/501bfc9b-6e6d-4c7d-8151-5557a1bd7933)

- 히스토그램에 비해 **추세가 한 눈에 보인다.**
- 14세기 Plantagenets 이후 상자는 **점차 오른쪽으로 이동** 하면서 **새로운 군주가 왕위에 오르는 연령이 증가** 하고 있음을 알 수 있다.
- `Godwin` 과 `Blois` 는 각 집에서 왕이 한 명 뿐이었기 때문에 한 줄로 나타난다.
- `Anjou` 집에는 세 명의 왕만 있었고, 둘이 아닌 하나의 수염으로 상자를 형성했다.
- `Denmark` 왕가에서는 Sweyn 이라는 왕이 즉위한 나이(53세)는 11세기에는 유난히 높은 나이로 이상치(outlier)로 표시된다.(하나의 포인트로 표시)

<hr>

### 이전까지는 하나의 변수를 시각화하는데 중점을 두었다면, 이제부터는 두 개의 변수를 시각화하는 데 초점을 둬보자.

## 산점도(Scatter Plot) 이해하기
- 이번 챕터에서는 **두 개의 연속형 변수(Continuous Variable) 간의 관계를 시각화하는 산점도(Scatter Plot) 에 대해 배운다.
- 이를 통해 **변수 간의 상관관계를 분석하는 방법** 과 **다양한 트렌드 라인을 활용하는 기법을 익힌다.**

## 산점도란?
- **산점도(Scatter Plot)** 는 **두 개의 연속형 변수가 있을 때, 그 관계를 시각적으로 표현하는 그래프** 이다.
- `x축` 에는 `독립변수`, `y축` 에는 `종속변수` 를 배치하며, 각 점(Point)은 데이터 하나를 나타낸다.
- 어떤 관계를 확인할 수 있을까?
    - 한 변수가 증가할 때, 다른 변수도 증가하는지(양의 상관관계)
    - 한 변수가 증가할 때, 다른 변수는 감소하는지(음의 상관관계)
    - 두 변수 간의 관계가 없는지(상관관계 없음)

## (ex) LA 카운티 주택 가격 데이터
![Image](https://github.com/user-attachments/assets/e7127458-0108-4c9b-bc2e-99ac59320d5b)

- 데이터셋은 2012년 LA 카운티 내 4개 도시의 주택 가격을 포함한다.
- 변수
    - 침실 개수(Bedrooms)
    - 판매 가격(Price, 단위 : 백만 달러)
    - 면적(Area, 단위 : Square Feet)

- 이 데이터를 활용하여 **`면적(Area)` 과 `가격(Price)` 간의 관계를 산점도로 확인** 한다.
![Image](https://github.com/user-attachments/assets/761ac075-c8ba-408f-b8d2-defcc0e552c2)

### 일반 산점도
- `x축` : `면적(Area)`
- `y축` : `가격(Price)`
- 모든 점이 **좌하단(Left-Bottom) 에 몰려 있어 데이터 해석이 어렵다.**

### 로그 스케일(Logarithmic Scale) 적용
- `x축` : `면적(Area)의 로그값`
- `y축` : `가격(Price)의 로그값`
- 한 칸씩 오른쪽으로 이동 → 면적 2배 증가
- 한 칸씩 위로 이동 → 가격 10배 증가
- 로그 변환 후에는 **데이터가 고르게 분포하며, 관계를 더 명확히 볼 수 있다.**
  
## 상관관계(Correlation)
- 상관관계는 두 변수 간의 직선적 관계(Linear Relationship)를 나타내는 지표이다.
![Image](https://github.com/user-attachments/assets/e5a69639-5c4f-436c-a8a5-d62f866255c9)

### 1. 양의 상관관계(Positive Correlation)
- `x값` 이 증가할 때, `y값` 도 증가한다.
- **우상향** 하는 직선 관계

### 2. 음의 상관관계(Negative Correlation)
- `x값` 이 증가할 때, `y값`이 감소한다.
- **우하향** 하는 직선 관계

### 3. 상관관계 없음(No Correlation)
- `x값` 과 `y값` 이 **아무런 패턴 없이 랜덤하게 분포** 한다.


### 상관관계의 한계
- **`Datasaurus Dozen`** 예제
![Image](https://github.com/user-attachments/assets/9ab00ac5-dcf1-4a4d-a1c9-c193d10e5283)

    - 서로 다른 13개의 데이터셋이 **모두 동일한 평균(mean), 표준편차(std), 상관계수(correlation)** 를 가진다.
    - 하지만, **산점도로 보면 전혀 다른 모양** 이다.(ex. 공룡 모양) → **숫자만으로는 데이터의 특성을 제대로 이해할 수 없다!**
    - 즉, **상관관계** 는 **선형 관계에만 적합** 하고, **복잡한 패턴을 반영하지 못한다.**
    - **복잡한 모양을 가지고 있다면, 그 `관계를 설명하는 방법에서 더 창의적` 이여야 한다.**
    - 단순히, `x와 y는 음의 상관관계를 가진다.` 와 같은 결론은 `플롯이 공룡처럼 보인다.` 만큼 **좋은 설명이 아니다.** 

## 트렌드 라인(Trend Lines)
- 산점도에 `추세선(Trend Line)` 을 추가하면 **두 변수 간의 관계를 더 명확** 하게 볼 수 있다.

### 선형 추세선(Linear Trend Line)
- 두 변수간의 관계가 선형관계를 이룬다면, **직선을 추가** 하여 **변수 간의 선형 관계(linear relationship)를 확실히 확인** 할 수 있다.

(ex)

![Image](https://github.com/user-attachments/assets/b0bc7103-46c4-4908-8b64-fd53695776e5)
- 로그 변환된 가격vs면적 그래프에서는 선형 관계가 잘 맞아떨어진다.

### 곡선 추세선(Smooth Trend Line) - Curved Trend Line
- 직선 추세선이 적합하지 않는 경우, 즉 선형 관계가 잘 맞지 않는 경우에는 **곡선 추세선(Curved Trend Line)** 을 사용할 수 있다.

(ex)

![Image](https://github.com/user-attachments/assets/3d23bcfc-b581-41e9-96df-1f4c373e01ff)

- 가격vs면적 의 일반 산점도에서는 **직선이 비싼 집들의 패턴을 제대로 반영하지 못한다.**

![Image](https://github.com/user-attachments/assets/c21cab98-9293-44b1-8de5-3e0e8004b122)

- 곡선 트렌드 라인을 추가하면, **면적이 증가할 수록, 가격이 비선형적으로 더 빠르게 증가** 하는 패턴을 더 잘 설명할 수 있게 된다.

<hr>

- 이번 챕터에서는 **라인플롯(Line plot)** 에 대해 배우며, 이를 활용하여 **시간에 따른 데이터 변화** 를 효과적으로 시각화하는 방법을 익힌다.

## 라인플롯(Line plot) 이란?
- **라인 플롯** 은 연속적인 데이터 포인트를 선으로 연결한 그래프이다.
- 주로 **시간(x축)과 수치 데이터(y축) 간의 관계** 를 나타낼 때 사용된다.
- **연속적인 데이터 변화 패턴을 이해하는 데 유용** 하며, 트렌드를 쉽게 파악할 수 있다.

## 산점도 vs 라인 플롯

### 전 세계 코로나19 확진자 증가 추이 

#### 초기 산점도(Scatter Plot)

![Image](https://github.com/user-attachments/assets/8a32504a-e908-45af-98d3-306911db39e7)

- 2020년 초, 전 세계 코로나19 확진자 수를 산점도로 나타낸다.
- 하지만, **개별 데이터 포인트가 흩어져 있어 추세를 한눈에 보기 어렵다.**

#### 라인 플롯(Line Plot) 적용

![Image](https://github.com/user-attachments/assets/36056b34-cf4f-46f9-be63-cb14c33b9636)

- 날짜(x축)를 기준으로 확진자 수(y축)를 선으로 연결하여 **데이터의 흐름을 직관적으로 표현**한다.
- **데이터 간의 관계가 명확** 해지고, **시간 흐름에 따른 패턴을 쉽게 확인** 할 수 있다.

### 언제 라인 플롯을 사용해야 할까?

(1) 산점도와 라인플롯의 `공통점`
  - 두 플롯 모두 **두 개의 연속형 변수(Continuous Variables)관계**를 나타낸다.

(2) 산점도와 라인플롯의 `차이점`
  - 라인 플롯은 **연속적인 데이터(시간 흐름 등)** 를 연결하여 추세를 강조하는 반면, 산점도는 개별 데이터 포인트를 강조한다.

### 라인플롯을 사용할 조건
- 데이터 포인트가 **시간순으로 연결될 수 있는 경우** (ex. 날짜별 매출, 주식 가격, 기온 변화 등)
- 데이터 간의 **변화를 강조하고 싶을 때** (ex. 월별 판매량 증가, 연도별 확진자 수 변화 등)

### 언제 라인 플롯을 사용하면 안 될까?
- **`시간`이 `x축`에 있다고 해서 무조건 라인 플롯이 적절한 것은 아니다!**
- 데이터 포인트가 **서로 연결될 수 있는 관계가 아닐 경우, 산점도를 사용하는 것이 더 적절** 하다.

(ex) 힙합 명곡 평점 데이터

![Image](https://github.com/user-attachments/assets/5ba233c7-9ede-433d-af49-1fc1a849502f)

- BBC에서 선정한 최고의 힙합 곡 평가 점수
- `x축`: 발매 연도, `y축`: 평점 → 각 점이 개별 노래를 나타낸다.
- 연속적인 값이 아니므로, 라인 플롯보다는 **산점도가 적절** 하다. → 각 곡이 다른 곡과 연관성이 없기 때문에 선을 그을 수 없다.
- 각 점은 비평가들에 의해 각 노래가 몇 점을 얻었는지를 나타낸다.

(ex) 스위스 청소년 범죄율

![Image](https://github.com/user-attachments/assets/b31f3681-1d5e-4e2b-bb69-229a160388db)

- `x축`: 연도(시간), `y축`: 범죄자 수 → 연령대별로 여러 개의 선을 그린다.
- 하지만, **데이터 간의 흐름이 명확하지 않아 직관적인 해석이 어렵다.**
- 연령대별로 그룹화된 **막대 그래프(Bar chart)** 나 **히트맵(Heatmap)** 이 더 적절할 수도 있다.


## 다중 라인 플롯(Mulitple Line Plots)
- 라인 플롯의 강력한 기능 중 하나는 **여러 개의 선을 동시에 비교** 할 수 있다는 점이다.
(ex) 코로나19 국가별 확진자 수
- 2020년 2월 : 확진자의 대부분이 중국에서 발생했다.
- 2020년 3월 이후 : 세계 다른 국가에서 확진자가 폭발적으로 증가했다. → 라인 플롯을 통해 확연한 비교가 가능하다.

## 트렌드 라인(Trend Lines)
- 데이터의 변화를 더 쉽게 이해하기 위해 **추세선(Trend Line)을 추가** 할 수 있다.

### `선형 트렌드`
(ex) 중국의 3월 확진자 수 변화

![Image](https://github.com/user-attachments/assets/9e2150b7-568f-4610-b2fa-530975b19475)

- 봉쇄 및 방역 조치 이후, 확진자 증가가 거의 **선형적인 패턴(Linear)** 을 보인다.
- **선형 회귀선(Linear Regression Line)** 을 추가하면 확진자 증가가 일정한 속도로 이루어짐을 확인할 수 있다.

(ex) 중국 외 지역의 확진자 증가

![Image](https://github.com/user-attachments/assets/acf64176-ed40-4b75-ad55-4fa725c2e518)
- **선형 트렌드 라인은 제대로 맞지 않는다.** (데이터 증가 속도가 너무 빠르다.)

### `로그 스케일 적용`
(ex) 중국 외 지역의 확진자 증가

![Image](https://github.com/user-attachments/assets/ff3f2d9c-d0db-4dde-88cf-f86c691d054e)

- 추세선을 맞추기 전에 `y축`에 **로그 스케일 적용 후 다시 분석** → 확진자 수가 **지수적으로 증가(Exponential Growth)** 하고 있음이 명확해진다.(오른쪽)

<hr>

- 이번 챕터에서는 **막대 그래프(Bar plot)** 에 대해 배운다.

## 막대 그래프(Bar plot) 이란?
- **막대 그래프(Bar plot)** 는 **범주형 변수의 개수(count)** 나 **백분율(percentage)** 을 시각적으로 표현하는 그래프이다.(물론, 평균값, 합계 등 다른 수치형도 시각적으로 표현 가능, 하지만 박스형 플롯이 그런 수치값을 표현하는 것에 대해서는 더 적합하다.)
- **대부분 값이 0을 포함해야 의미가 있다.** → 막대가 0에서 시작하기 때문이다.

## 막대 그래프의 활용
- **카테고리별 `개수(Count) 또는 백분율(%)을 비교`할 때 사용** 한다.
- **특정 범주별로 `평균값, 합계 등 다른 수치형 값`도 표시 가능** 하다.
- **세로형(Verticle)** 과 **가로형(Horizontal)** 모두 가능하다.
- **여러 변수를 표현** 할 경우, **누적형(스택형) 막대 그래프** 사용 가능하다.

## 여러 데이터 분석

### ESPN 100명 유명 운동선수 데이터(2017년)
![Image](https://github.com/user-attachments/assets/a1ee2155-81e4-455b-8e98-11e63fb953af)

- ESPN에서 선정한 **가장 유명한 100명의 운동선수 데이터**
- 각 **선수의 SNS 팔로워 수, 광고 수익, 인터넷 검색 인기도** 등을 기준으로 순위를 결정한다.

#### (ex) 국가별 운동선수 수 비교
![Image](https://github.com/user-attachments/assets/07d01663-db43-4b80-b469-4167796d2386)

- 각 나라에서 선정된 운동선수 수를 비교하는 **막대 그래프**
- 국가(범주형 변수) → `y축`
- 개수(수치형 변수) → `x축`
- 세로형 막대 vs 가로형 막대 비교 → 국가명이 많으면 가로형 막대가 가독성이 좋다.

#### 막대 정렬(Sorting by Count)
![Image](https://github.com/user-attachments/assets/5235663a-5f59-4d0c-b0ec-b5de2a376527)

- **개수를 기준으로 정렬** 하여 가장 많은 나라가 무엇인지 한눈에 보기 쉽게 한다.
- 예를 들어, **스페인과 인도** 는 각각 **4명의 운동선수가 포함되어 있어 공동 5위임을 쉽게 알 수 있다.**


### 영국 어린이들의 과일,채소 섭취량 데이터(2018년)
![Image](https://github.com/user-attachments/assets/20652ab1-f479-43b1-b596-70eb4630fa55)

- 2018년 영국 건강조사(Health Survey for England)에서 **어린이들의 과일,채소 섭취량** 을 조사한 데이터이다.
- 이 특정 데이터 세트는 아이들이 하루에 얼마나 많은 과일과 야채를 먹는지에 대해 보여준다.

#### (ex) 연도별 과일,채소 섭취량 변화 분석(백분율 활용) - stacking bars
![Image](https://github.com/user-attachments/assets/99668198-a233-44f7-b193-28365ab327fd)

- 카테고리 : `섭취량(portion,개수)`, `연도`
- 지표 : `각 카테고리의 백분율(%)`
- 일반적인 누적형(스택형) 막대 그래프 사용 → 각 연도별 100%를 기준으로 나누어 비교한다.
- 2003년 영국 정부의 `하루 5개 과일,채소 먹기` 캠페인 이후 섭취량 증가
→ 2003~2006년 까지 **5개 이상 섭취하는 어린이 비율 증가**, 이후 2014년까지 유지.(하단)
→ **0개 섭취하는 비율은 2003년 이후 감소 후 유지됨** (상단) → 캠페인이 성공적이었다는 것을 알 수 있다.

## 막대 그래프 vs 박스 플롯
![Image](https://github.com/user-attachments/assets/b402daf0-3bbb-4a70-b285-7c4d3728920c)

- 둘 다 범주형 데이터 비교에 사용되지만, 목적이 다르다.
- 막대그래프(Bar Plot)는 한 범주의 특정 값(개수, 평균, 합계) 등을 비교한다면,
- 박스플롯(Box Plot)은 범주 내 데이터의 분포(최솟값,중앙값,최댓값) 등을 비교하는 것이다.

### (ex) 영국 왕들의 `즉위 나이` 비교
- 막대 그래프 : 각 왕조별 즉위한 **왕의 수(count)** 를 비교한다.
- 박스 플롯 : 각 왕조별 즉위 **연령분포(최소,최대,중앙값 등)** 을 비교한다.
→ 막대 그래프는 각 왕조의 `개수`, 박스플롯은 각 왕조의 `나이 분포` 를 보여준다.

### (ex) 왕의 즉위 `평균 연령` 을 막대 그래프로 표현
![Image](https://github.com/user-attachments/assets/7d3b028a-3be8-4fc6-9ab0-8d96c1b9d820)

- 개수(Count) 와 다른 지표도 사용 가능하다.
- 각 카테고리별 **평균값(mean)** 도 막대 그래프로 표현이 가능하다.
- 하지만, 단순 평균값만 보여줄 경우, **박스 플롯이 더 많은 정보를 제공** 한다. (최대,최소,중앙값 등)
- 따라서, 분포를 확인할 때는 **박스플롯이 유리** 하고 **단순한 비교** 는 막대 그래프가 유리하다.

<hr>

- 이번 챕터에서는 **도트 플롯(Dot plot)** 에 대해 배운다.

## 도트 플롯(Dot plot) 이란?
- 도트 플롯(Dot plot)은 **막대 그래프(Bar Plot)** 와 유사한 방식으로 데이터를 시각화하는 그래프이다.
- 막대 대신 **점(Plot)** 으로 데이터를 표현한다. → **특정 값의 크기를 직관적으로 보여준다.**

## 도트 플롯(Dot Plot) vs 막대 그래프(Bar Plot)
- 도트 플롯은 막대 그래프와 **동일한 상황에서 사용 가능**하다.
- 하지만, **도트 플롯이 더 유용한 두 가지 장점** 이 있다.

### 1) 로그 스케일(Logarithmic Scale) 지원한다.
### 2) 여러 개의 지표(Multiple Metrics) 시각화가 가능하다.

### 태양계 근처의 별(Stars) 및 갈색왜성(Brown Dwarfs) 데이터
![Image](https://github.com/user-attachments/assets/12ca400d-2a9d-48c3-8bd3-6fbb03725c0c)

- 데이터에는 **지구에서 가까운 별들의 거리(광년)** 및 **질량(태양 질량 단위)** 이 포함된다
- 지구와의 거리는 빛으로 측정, 질량은 태양 질량, 즉 태양 질량의 배수로 측정된 것이다.

### **막대 그래프 vs 도트 플롯**

![Image](https://github.com/user-attachments/assets/11ef05db-bad2-4c76-98c2-f2acacc7cd80)

- **맨 위의 가장 가까운 별부터 맨 아래의 가장 먼 별** 순으로 별 질량을 나타낸 막대그래프이다.
- 막대 그래프로 별들의 질량을 나타내면 일부 막대는 너무 작아서 보이지 않는다. → `범위 차이가 크다.`
- 로그 스케일을 사용하면 좋지만, **막대 그래프는 0에서 시작해야 해서 로그 변환이 불가능**하다.(**0의 로그는 마이너스 무한대이므로 적용 불가**)

![Image](https://github.com/user-attachments/assets/198eedf6-6601-44bc-a79d-52b8fb7eb8c4)

- 해결책 : 막대 대신 **점을 사용하여 도트 플롯으로 표현** 하면 되는 것이다.
- 점의 위치가 원래 막대의 꼭대기와 동일 → `데이터 표현 방식은 유지되지만 더 명확하게 보인다.`


### 로그 스케일(Log Scale) 활용
- 로그 스케일을 사용하면 별들의 질량 차이가 몇 배인지 **비교하기 쉬워진다.**
- 예를 들어, 어떤 별이 다른 별보다 10배 무거운지 **바로 확인 가능** 하다.

## 도트 플롯에서 정렬(Sorting) 중요성
![Image](https://github.com/user-attachments/assets/0e1c2bf6-260c-4d82-ba20-2f9ac4864812)

- 막대 그래프와 마찬가지로 행의 순서가 중요하다.
- 지구에서의 거리가 아니라 **별들의 질량을 내림차순으로 정렬** 하면, 가장 무거운 별과 가장 가벼운 별을 **한 눈에 비교** 할 수 있다.
- 데이터의 **패턴을 쉽게 파악** 할 수 있다.

<hr>

- 이번 챕터에서는 **고차원 데이터 시각화(Dot plot)** 에 대해 배운다.

## 데이터 시각화와 차원(Dimensions)
- 지금까지 **1개 또는 2개의 변수(차원)** 를 시각화하는 방법을 배웠다.
- 하지만, **3개 이상의 변수(고차원 데이터)** 를 어떻게 표현할 수 있을까?

### UN 기대 수명(UN life expectancy) 데이터셋
![Image](https://github.com/user-attachments/assets/521b7dd3-8710-40bb-a1ec-cc9188c3affc)

- `기대 수명(Life Expectancy)` 과 **`학교 교육 기간(Length of Schooling)` 및 `1인당 국민총소득(GNI per capita)`** 을 **개별적**으로 분석한 그래프이다.
- 하지만, **두 변수(GNI, Schooling) 모두가 기대 수명에 미치는 영향**을 **동시에 보고 싶다면 어떻게 할까?** (개별적으로 말고, 두 개의 변수가 기대수명에 미치는 영향을 모두 한꺼번에 보고 싶다면?)

### 3D 산점도(Scatter Plot)
![Image](https://github.com/user-attachments/assets/56cfceca-edda-4c5e-b140-c328c5387bc5)

- **3D 그래프는 직관적으로 해석하기 어렵다.**
- 2D 화면에서 3D 데이터 시각화 시 `문제점`은 아래와 같다.
    - 원근감이 왜곡된다.
    - 데이터 해석이 어렵다.
    - 보는 각도에 따라 해석이 달라진다. 하지만, 오른쪽 3d 산점도는 다른 각도에서 본 그래프이지만, **해석하는데 있어서 별 도움이 되진 않는다.**

- `해결책` : 3D가 아닌 **다양한 2D 표현** 방법을 사용하면 되는 것이다.

## 차원 추가를 위한 2D 시각화 기법
- 산점도에서 추가적인 차원 표현 방법

### 1. 색(Color)
![Image](https://github.com/user-attachments/assets/93777817-e244-4c0f-9693-0c063f4b5927)

- `X축` : `학교 교육 기간`, `Y축` : `GNI(1인당 국민총소득)`
- `색상`을 이용해 `기대 수명(life expectancy)` 표현
    - `낮은 값` → `파란색(Blue)`
    - `높은 값` → `노란색(Yellow)`

#### 장점
- 시각적으로 **한눈에 트렌드를 파악**할 수 있다. → '기대수명이 긴 사람들은 교육시간이 길고 GNI가 높다'...
- **상관관계가 명확하게 드러난다.** → '학교교육과 GNI가 양의 상관관계가 있을을 알 수 있다.'...
#### 단점
- 정확한 값을 알기 어렵다.(ex. 색상이 64년에 해당하는지 65년에 해당하는지 등의 구분이 어렵다.)

### 2. 크기(Size)
- `점의 크기`를 기대 수명과 연관지어 표현한다.

![Image](https://github.com/user-attachments/assets/0466c90e-620f-4aa9-b118-943d0f7dea50)

#### 단점
- **크기가 클수록 중요한 정보처럼 보이는 왜곡 가능성**이 있다. → 만약 기대수명이 낮은 그룹에 집중하고 싶다면, 점의 `크기`를 통한 산점도 표현은 별로 좋지 않은 선택!
- 점이 겹쳐서 **개별 데이터를 구별하기 어렵다.**
- **`색상`보다 정확한 비교가 어렵다.**

### 3. 투명도(Transparency)
- 투명도를 사용해 데이터 표현이 가능하다.

![Image](https://github.com/user-attachments/assets/d2c06340-4fbf-4678-bbe9-ff47ee515856)

#### 단점
- **투명도가 낮을수록 강조**된다. → **의도치 않게 특정 값이 강조될 수 있다.**(자연스럽게 투명도가 낮은(진한) 점에 끌리며 정확한 값을 결정하기가 어렵다.)
- **해석이 어렵고 정확한 값 파악이 어렵다.** 

### 4. 모양(Shape)
- 기대 수명을 **`여러 그룹`으로 나누고 `각 그룹을 다른 모양`으로 표현**한다.

![Image](https://github.com/user-attachments/assets/ddc8de9f-3d29-4766-9b8d-bdc43d14e844)

#### 단점
- 모양에는 순서가 없어서 **직관적인 비교가 어렵다.**
- 해석하려면, **각 모양이 어떤 값을 의미하는지 암기**해야 한다. → 50-60세 그룹은 어떤 모양인지, 60-70세 그룹은 어떤 모양인지를 알아야 한다.

### 5. 다중 패널(Panels/Facet Grid)
- **여러 개의 패널**을 사용해 기대 수명 **그룹별로 데이터를 나눠서 표시**한다. → 모양 표현방법과 마찬가지로 그룹별로 구분, 하지만 더 직관적
- 패널을 5년 단위로 세분화할 수도 있다. → **더 정확한 값을 볼 수 있지만, 패널이 많아지면 가독성이 떨어진다.**

![Image](https://github.com/user-attachments/assets/962a9d02-6067-402c-800a-5c5c8995af12)

(ex) 기대 수명을 10년 단위로 나누어 각 그룹을 개별 패널로 표현
- `X축`: `학교 교육 기간`, `Y축`: `GNI`
#### 장점
- 데이터 그룹 간 변화를 **쉽게 비교** 할 수 있다. → 직관적인 해석이 가능하다.
- 해석 : 기대수명 60-70세 그룹이 50-60세 그룹보다 더 오른쪽에 있으며, 이는 교육수준이 더 높음을 나타낸다.
- 해석 : 포인트가 오른쪽으로 갈수록 동시에 위쪽으로 가는 걸 보아, 기대수명이 높을 수록 더 많은 수입을 나타내는 것도 알 수 있다.

#### 단점
![Image](https://github.com/user-attachments/assets/cc1f800d-6dec-49f7-a935-adcc9de25b58)

- **패널이 많아지면 해석이 어려워진다.** → `10년`단위가 아니라 `5년` 단위로 나눠서 패널이 더 많아져서, 해석이 더 까다로워졌다.


## 선형 그래프(Line Plot)에서의 차원 추가
- `선 그래프(Line Plot)` 에서도 2차원 표현 산점도(2d Scatter)에서처럼 여러 표현 방법이 가능하다.
- `색상(Color), 굵기(Thickness), 투명도(Transparency)` 는 비슷한데, `선 스타일(Line Type) : 점선, 실선 등` 이라는 표현이 있다.

### 색(Color) vs 선 스타일(Line Type)

#### 색(Color) 사용 예시
![Image](https://github.com/user-attachments/assets/747582a4-ca37-4455-aca0-1172081bf562)

- 미국 기술 보급(Trchnology Adoption in the USA) 데이터를 **색상으로 구분**한다.

#### 선 스타일(Line Type) 사용 예시
![Image](https://github.com/user-attachments/assets/c5867eaa-7791-451f-a237-23b0f0289519)

- 선을 **점선, 실선 등으로 구분**해서 사용한다.
- 하지만, 점선과 실선의 **차이가 명확하지 않아 가독성이 떨어질 우려는 있다.**

<hr>

- 이번 챕터에서는 **색 공간(colorspace)** 과 **다양한 색상 스케일(color scale)** 을 활용하는 방법을 배운다.

## 데이터 시각화를 위한 색상 활용 가이드
- 데이터 시각화에서 **색상(color)** 은 강력한 도구이다. 하지만, 적절한 색상을 선택하지 않으면, 데이터를 잘못 해석할 수 있다.
- 이번 챕터에서는 **색 공간(colorspace)** 과 **다양한 색상 스케일(color scale)** 을 활용하는 방법을 배운다.

## 색 공간(Colorspace)의 개념

### 1. RGB(Red-Green-Blue)
- 대부분의 **프로그래밍 언어에서 사용**되는 색상 모델
- `빨강(R)`, `초록(G)`, `파랑(B)` 의 밝기를 조합하여 색을 표현한다.
- 문제점 : 사람의 색상 인식과 다를 수 있다.

### 2. CMYK(Cyan-Magenta-Yellow-Black)
- **그래픽 디자이너가 주로 사용**하는 색 공간 → 컬러 프린트에는 이 4가지 잉크 카트리지가 있기 때문이다.
- **프린터에서 사용되는 색상 모델**로, **화면과 출력물 간의 차이를 최소화** 하는 데 유용하다.

### 3. HCL(Hue-Chroma-Luminance)

![Image](https://github.com/user-attachments/assets/2a19e14a-b638-458c-8f1e-c706afef79c8)

→ 몇가지 문제가 있어보인다.
- 첫 번째로, 노란색을 보기가 힘들다, 이는 노란색을 보는 시간이 줄어들고 중요한 통찰력을 놓칠 수 있다.
- 두 번째로, 파란색과 보라색은 색이 비슷해서 유사하게 보여 둘이 구분짓기가 어렵다.
- 세 번째로, 노란색은 다른 색상들과는 매우 다르게 보여서 무의식적으로 노란색 점이 다른 색상의 점과는 다르다고 생각되어질 수 있다.

### `Hue` 는 **데이터 시각화를 위해 설계**된 색상 공간

- `색조(Hue)` : `빨강` → `주황` → `초록` → `파랑` → `보라`

![Image](https://github.com/user-attachments/assets/3976e21d-3069-4a29-994b-fdc2043720cf)

- `채도(Chroma)` : `회색`에서 `선명한 색`으로 변화

![Image](https://github.com/user-attachments/assets/287e26a0-5139-48d1-9ed0-606aa486f993)

- `휘도(Luminance)` : `검은색`에서 `흰색`으로 변화

![Image](https://github.com/user-attachments/assets/97c60fc9-0342-474c-b179-0300c3e3b89f)

### HCL 색 공간은 데이터 시각화에서 가장 적합하다!

## 색상 스케일의 유형
- 색상 스케일은 크게 3가지 유형으로 나뉜다.

### 1. 범주형(질적) 색상 스케일(Qualitative Scale)
- **순서가 없는 범주형 데이터를 구분**할 때 사용한다.
- **색조(Hue)를 바꾸지만**, **채도(Chroma)와 휘도(Luminance)는 일정하게 유지**한다.
- **적절한 색을 선택하면 카테고리 구분이 더 명확** 해진다!

(ex) 냉장고 vs 가스레인지 vs 스마트폰 (서로 비교할 수 없는 기술 제품) : 색조는 다르지만, 채도와 휘도는 같다.
![Image](https://github.com/user-attachments/assets/62408c33-71b4-40df-9aad-a6280658183b)

(ex) 선거에서 정당별 색상

### 2. 순차적 색상 스케일(Sequential Scale)
- **값의 크기**를 강조할 때 사용한다.(`작은값` → `큰 값`)
- **채도(Chroma) 또는 휘도(Luminance) 중 하나를 변화**시켜 **색이 점진적으로 변하도록 설정**한다.
- **`값의 크기`를 강조하고 싶을 때 유용**하다!

(ex) 과일 및 채소 소비량(0개 → 5개 이상:순서로 정렬되는 예시) : 색조는 같지만, 채도와 휘도가 다르다.

![Image](https://github.com/user-attachments/assets/62001b3f-8a2d-404b-a029-7e8c64e307cf)

(ex) 생명 기대 수명(낮은 값 → 높은 값) : `색조`를 변경한 Virdis 색상 순차적 스케일 사용 예시 - 보통이면 `채도` 또는 `휘도`만 변경하는 것이 좋다.

![Image](https://github.com/user-attachments/assets/704874e1-dcee-4d0e-b696-ef3bd8a21711)

- **Viridis 색상 스케일**
    - **색맹(colorblind) 사용자도 쉽게 볼 수 있도록 설계**되었다.
    - **흑백 프린트에서도 정보가 잘 유지**된다.
    - 이 색상 스케일은 개발과정에서 많은 과학이 사용되었다.
    - 즉, **우리만의 순차 스케일을 만들려면, `채도` 또는 `휘도`만 변경하는 것이 좋다.**
  
### 3. 발산형 색상 스케일(Diverging Scale)
- `중간값`을 기준으로 **값이 클수록 강조** 할 때 사용한다.
- **중립적인 값을 강조하고 싶을 때 유용**하다!
- 순차적 스케일과 비슷하지만, **중간에 흰색 또는 회색과 같은 중성 색상** 이 있다.
- **양쪽 가장자리에는 점점 더 진해지는 다른 색조**가 있는 것이 특징이다.

(ex) 설문조사 결과(부정적 ↔️ 중립 ↔️ 긍정적) 

![Image](https://github.com/user-attachments/assets/f8944359-aeb6-4503-80d7-1f55ef5dd1ed) ![Image](https://github.com/user-attachments/assets/abc59241-95ea-4ff5-b7aa-1dff9adc9cee)

- 각 질문에는 `전적으로 동의하지 않음` 에서 `전적으로 동의함` 까지 5개의 답변이 있다.
- `중립` 응답은 **중간점을 형성** 하여 다양한 척도를 유용하게 만든다. → 의견이 강할수록 색상이 더 진해진다.

(ex) 기온 변화 (평균 기온 ↔️ 높은 기온/낮은 기온)

### 색상 스케일 적용 예제
![Image](https://github.com/user-attachments/assets/73c2a757-b206-47a9-ae65-9f5fb0a45714)

<hr>

- 이번 챕터에서는 **다변수 시각화** 에 대해서 배운다.

## 다변수 시각화 : 한 번에 여러 변수 표현하기
- 데이터 분석에서는 한두 개의 변수를 시각화하는 것뿐만 아니라, **여러 개의 변수를 동시에 표현하는 것이 중요하다.**
- 이를 위해 **Pair Plot**, **상관관계 히트맵(Correlation Heatmap)**, **병렬 좌표 그래프(Parallel Coordinates Plot)** 등의 고급 플롯이 사용된다.

## 1. Pair Plot (쌍 변수 플롯)

### Pair Plot 이란?
- **10개 이하의 변수를 한 번에 시각화** 할 수 있는 강력한 도구이다.
- 각 변수의 분포와 변수 간의 관계를 **한눈에 파악**할 수 있다.
- **연속형 변수는 히스토그램(분포)**, **범주형 변수는 막대 그래프로 표현**한다.
- **탐색적 분석(EDA)** 에 유용하다.

#### 활용 예시
- LA 주택 가격 데이터에서 가격(Price), 면적(Area), 침실 수 (Beds), 도시(City) 간의 관계를 분석한다.
![Image](https://github.com/user-attachments/assets/44cbedf4-f70a-4a62-87c7-580a92cbd8e2)


### Pair Plot 분석

#### 1. 대각선(히스토그램 & 막대 그래프)
- 대각선 패널은 **변수 분포**를 보여준다.

- 연속형 변수 → 히스토그램
- (ex.침대 수, 가격, 면적 : 해당 변수들은 연속적이므로, 분포가 히스토그램으로 표시된다.)
![Image](https://github.com/user-attachments/assets/6eae6ac2-c060-4e38-8c75-bfd4233c2e89)


- 범주형 변수 → 막대 그래프(ex. 도시별 데이터 : 도시는 범주형 변수이므로 해당 분포는 각 도시에 대한 개수의 막대 그래프로 표시된다.)
![Image](https://github.com/user-attachments/assets/4efbed0c-4017-4d43-aab5-044fcc0bf8f4)

#### 2. 비대각선(변수 간 관계)
- 대각선을 벗어난 패널은 **변수 쌍 간의 관계**를 보여준다.

- 두 변수가 모두 `연속형 변수` → 산점도(Scatter Plot) & 상관계수 표시
- (ex. 4행 2열에는 침대수 대 면적의 산점도가 표시된다.)
- (ex. 2행 4열에는 침대와 면적의 수가 0.782로 양의 상관관계를 가지고 있는 것을 알 수 있다.)
![Image](https://github.com/user-attachments/assets/fc4c0f3a-dd95-4336-9419-edf7dff1f387)


- `연속형`변수와 `범주형` 변수를 비교할 때는 → 박스 플롯(Box Plot) + 히스토그램
- (ex. 1행 3열에는 각 도시의 가격 box plot 이 표시된다.)
- (ex. 3행 1열에서는 동일한 히스토그램이 표시되는 것을 볼 수 있다.)
![Image](https://github.com/user-attachments/assets/1b97bd5f-45dd-4e28-80e0-aaf2d2b39e20)


## 2. Correlation Heatmap (상관관계 히트맵)

### 상관관계 히트맵 이란?
- Pair Plot에서 **변수 간 상관관계 패널만 따로 추출** 하여 색상으로 표현한 것이다.

![Image](https://github.com/user-attachments/assets/35bd6a48-b247-4d8a-a7ca-94541c54db69)
→ 이 패널을 색상으로 표시한 그래프

- **`연속형 변수` 간의 관계**를 **한 눈에 파악** 할 수 있다.
- **색이 강할수록** (ex.빨간색) **변수 간의 상관관계가 크다.**

#### 활용 예시
- **고객 만족도 조사 데이터** 에서, 가격 관련 제품 요소들이 강한 양의 상관관계를 보이는지 확인한다.

![Image](https://github.com/user-attachments/assets/4a87f396-c719-4c19-b809-ce487977fc28)


## 3. Parallel Coordinates Plot (병렬 좌표 그래프)

### 병렬 좌표 그래프란?
- `다수의 연속형 변수`를 시각화하는 기법이다. → 연속형 변수가 너무 많다면, 산점도는 빠르게 해석하기 복잡해질 수 있다. → 병렬좌표 그래프 도입!
- **연속 변수의 관계를 이해** 하거나 **클러스터로 그룹화** 할 때 사용한다.

#### 활용 예시 
- **UN 데이터** 를 기반으로 국가별 소득, 교육, 건강 수준을 비교한다.

- `X축` : `각 변수` (ex.소득(GNI), 교육 연수, 기대 수명, 인간 개발 지수(HDI))
- `Y축` : `변수별 최솟값 ~ 최댓값 범위`
- `각 선(Line)` : `하나의 관측값`(ex. 한 국가)

### 병렬 좌표 그래프 분석

![Image](https://github.com/user-attachments/assets/f89b35a5-645d-47ae-88cc-3c8d14133013)
- 전체 데이터 → **패턴이 보이지 않고 혼잡**하다.

![Image](https://github.com/user-attachments/assets/58637281-6eaf-4fd4-b0b7-f72889cd2903)

- 대륙별 구분 → 그룹별 경향성이 드러난다.
    - 남미 : 소득(GNI)이 낮고, 다른 지표는 중간 이상이다.
    - 유럽 : 소득(GNI)격차가 크지만, 다른 지표(교육, 건강)는 높다.
    - 아프리카 : 소득(GNI)이 낮지만, 다른 변수는 다양하다.

- 이러한 병렬좌표 플롯에는 더 많은 메트릭을 `x축`에 추가할 수 있다는 장점이다.

## 정리
![Image](https://github.com/user-attachments/assets/a4606e73-19ff-41e5-804a-1c70b49d7b3f)

<hr>

- 이번 챕터에서는 **극 좌표계** 와 **원형 차트** 에 대해서 배운다.

## 극 좌표계(Polar coordinates) 와 원형 차트(Ploar Plots)

### Pie Chart(원형 차트)는 왜 잘 사용하지 않을까?
- 파이 차트의 원리
    - 파이 차트는 **`막대그래프`** 를 **`원형 좌표계(Polar Coordinates)`** 로 **변환**한 형태이다. → Bar plot + polar coords = pie plot
    - 즉, **막대의 `길이` 가 `각도` 로 변환**된 것을 말한다.
    - 하지만, 해석이 어렵고 정량적 비교가 어렵다.

- 막대그래프

![Image](https://github.com/user-attachments/assets/c4f56079-a9fc-4a55-bb6c-eabcafdac3ac)

### Bar plot(막대 그래프) + Polar Coordinates = 파이 플롯(Pie Plot)

![Image](https://github.com/user-attachments/assets/0c469307-221d-42ab-8283-eda4daf2e6fd)

- 문제점
    - 각도 비교가 어려워 **정확한 비율을 파악하기 어렵다.**
    - "몇 명이 포함되었나?" 같은 간단한 질문이 막대그래프보다 더 어려워진다.
    - 데이터 시각화 연구에서도 `비효율적` 이라고 평가했다.

### Polar Coordinates(극 좌표계)는 언제 사용하면 좋을까?
- **대부분 일반적으로 사용하지 않는 것이 좋지만**, 일부 특정 상황에서는 유용하다.
- 예외적인 경우
    - `시간(Time of Day)` 같은 주기적 데이터(ex. 하루 중 동물 활동 시간)
  
      ![Image](https://github.com/user-attachments/assets/a5a96f64-5334-48ba-89fe-6c55013b43db)
        - plot은 `x축 왼쪽`의 자정이 `x축 오른쪽`의 자정과 같다는 것을 인식하지 못하기 때문에, 야행성 Paca 의 활동이 둘로 나뉘는 것처럼 보인다.
      
    - `방향(Direction)` 과 관련된 데이터 (ex. 바람 방향)

### 히스토그램(Histogram) + Polar Coordinates = 로즈 플롯(Rose Plot)
- 바로 앞서 본 히스토그램의 문제점
    - (ex) 동물 활동 시간 데이터를 보면, `자정(0시)`가 양끝에서 분리된다.
    - 밤 활동이 두 개로 나뉘어 보이지만, 사실 연속된 활동이다.

- 해결방법 : Polar Coordinates 로 변환하여 적용(로즈 플롯)

![Image](https://github.com/user-attachments/assets/68850b67-2e0a-40e0-b10e-6681820f3509)

- **x축(시간)을 각도로 변환** 하여 **원형 플롯** 으로 표현한다.(파이 플롯과는 다르다.)
- (ex) 밤에 활동하는 "Paca"(파카)의 **활동 시간이 원형으로 이어진다.** → 연속적인 활동 패턴을 자연스럽게 볼 수 있다.

## 파이플롯과 로즈 플롯의 차이점
![Image](https://github.com/user-attachments/assets/5b231e51-b867-45ab-a5e5-19206d8af463)
- 파이 플롯은 단순한 비율(%) 비교에 적합하지만, 정확한 비교가 어렵다.
- 로즈 플롯은 주기적 데이터 분석(시간,방향)에 적합하며, 값 비교가 더 직관적이다.
- 로즈 플롯은 단순한 비율 비교보다 더 유용한 경우가 많다.

<hr>

- 이번 챕터에서는 **데이터 시각화에서 흔히 발생하는 문제들** 에 대해서 배운다.

## 잘못된 축(Axes of Evil) : 데이터 시각화에서 흔히 발생하는 문제들

### 1. 잘못된 막대 길이(Nonsense Bar Lengths)
- 문제점
    - 막대그래프(bar plot)에서 각 막대의 길이는 해당 값에 비례해야 한다.
    - 그러나, 일부 시각화에서는 **의도적으로 특정 값을 과장하여 표현하는 경우가 있다.**

- 예제

![Image](https://github.com/user-attachments/assets/cac24ee3-f50c-4ec9-9eab-86f01d2db9d9)

- 한 정치 포스터에서 Yang의 22.5 % 지지율이 Sanders 의 21% 지지율보다 훨씬 길게 표시되었다.
- 하지만, 올바르게 그린 그래프에서는 차이가 크지 않다.
- 정치적 홍보나 마케팅에서 종종 발생하는 오류이므로 조심해야 한다.

### 2. 왜곡된 누적 막대그래프(The Same Applies to Stacked Bar Plots)
- 문제점
    - 누적 막대그래프(stacked bar plot)에서도 `y축` 범위를 조작하면 잘못된 해석을 유도할 수 있다.
    - 일부 시각화에서는 `y축`의 **시작점을 0이 아닌 값으로 설정**하여 특정 비율 차이를 왜곡한다.

- 예제

![Image](https://github.com/user-attachments/assets/876f4aa1-30eb-4dab-9582-1587401c3daf)

- 한 스마트폰 OS 시장 점유율 그래프에서 `y축`을 75%부터 시작하도록 설정했다.
- 그 결과, Android(87%)와 iOS(13%)의 시장 점유율 차이가 크지 않게 보인다.
- 하지만, `y축`을 0부터 시작하면, Android의 점유율이 훨씬 크다는 사실이 명확해진다.

### 3. 이중 축(Dual Axes)의 문제점
- 문제점
    - 하나의 그래프에 **두 개의 `y축`** 을 사용하면 시각적 왜곡이 발생할 수 있다.
    - 특히, **두 데이터가 `다른 단위`를 가질 때, 해석이 어려워진다.**

- 예제

![Image](https://github.com/user-attachments/assets/1b236068-cbdf-4c05-bbc6-18a447ffbd6a)

- UN 데이터를 이용해, `x축`을 교육연수(Length of Schooling)로 설정
- 왼쪽 `y축`(빨간 점) : 기대 수명(Life Expectancy) - 범위가 `50~90`
- 오른쪽 `y축`(파란 점) : 인간 개발 지수(HDI) - 범위가 `0~1` 

![Image](https://github.com/user-attachments/assets/2ff4e5e2-a699-43a4-ac1c-b82c5239755c)

- 두 개의 `y축`을 조정하면 해석이 완전히 달라진다.
    - 한쪽에서는 강한 상관관계처럼 보이지만, 다른쪽에서는 상관관계가 거의 없어 보인다.(왼쪽에서 보면, 기대수명과 HDI 사이에 강한 상관관계가 있어 보이지만, 오른쪽에서 보면, 상관관계가 없어보인다.)
- 독자가 숫자를 세밀하게 살펴보지 않으면, 잘못된 해석을 할 여지가 있다.

### 4. 더 나은 해결책 : 여러 개의 패널 사용(Better to use Multiple Panels)
- 해결 방법
    - 서로 다른 두 개의 변수를 비교할 때, 두 개의 `y축`을 사용하는 것보다 **각각 `별도의 패널`로 나누는 것이 더 명확** 하다.
    - 이렇게 하면, **두 데이터가 다른 범위를 갖는다는 점이 더 직관적으로 전달**된다.

- 예제

![Image](https://github.com/user-attachments/assets/031a5745-6c8f-4060-94d6-a029b22fad07)

- `HDI` 와 `기대 수명`을 같은 그래프에 그리는 대신,
    - 첫 번째 패널 : 기대 수명 vs 교육 연수
    - 두 번째 패널 : HDI vs 교육 연수
- 이렇게 하면, 데이터가 혼동되지 않고, 비교가 더 쉬워진다.

<hr>

- 이 챕터에서는 데이터 시각화에서 **정보 과부하(Sensory Overload)** 와 **차트를 정리하는 법** 을 배운다.

## 좋은 데이터 시각화란?
- 데이터 시각화의 품질을 평가하는 `두 가지 주요 기준` 이 있다.

### 1. 얼마나 많은 인사이트를 제공하는가?
- 많은 그래프가 제대로 된 정보를 전달하지 못한다.
- **데이터를 효과적으로 전달하는 방법을 고민**해야 한다.

### 2. 독자가 얼마나 빨리 인사이트를 얻을 수 있는가?
- 회의에서 그래프를 발표할 때, **대부분의 청중은 20초 이내에 의미를 파악** 하게 해야한다.
- 즉, **빠르고 명확하게 정보를 전달하는 것이 중요**하다.

## 차트 정크란?
- **`Chartjunk`는 그래프에서 독자가 데이터를 해석하기 어렵게 만드는 불필요한 요소들** 을 의미한다.

### Skeuomorphism(스큐어모피즘)
- **현실 세계에서 사용되는 시각적 요소(그림자, 3D 효과 등)를 그래프에 추가** 하는 것이다.
(ex) 바 그래프에 그림자를 추가 → 데이터 해석이 어려워진다.

## 잘못된 데이터 시각화 예제

### 그림을 사용한 그래프(Pictures instead of bars)

(ex) BBC 의 한 그래프 사례

![Image](https://github.com/user-attachments/assets/55bda07f-4b88-449e-af54-bfb61e5d1dee)

- 막대 그래프를 사용해야 하는 상황에서 남성 실루엣(이미지)을 사용했다.
- 문제점
    - `y축`이 0에서 시작하지 않아 값이 왜곡됐다.
    - 머리의 윗부분이 기준인지, 가운데가 기준인지 불명확하다.
    - 막대 그래프를 사용했다면, 더 정확한 정보 전달이 가능했을 것이다.

### 3D 그래프의 문제점(Extra Dimensions)

(ex) Fox News 의 한 그래프 사례

![Image](https://github.com/user-attachments/assets/039423f3-5fef-4cc0-b9e9-8b272458fbf6)

- 3D 효과를 적용한 바 그래프 → 데이터 왜곡 가능성이 존재한다.(우상향하는 그림자는 위쪽과 오른쪽으로 이동하면 숫자가 증가하고 있다는 잠재의식 신호를 보낼 수 있다.)
- 문제점
    - `y축`을 0에서 시작하지 않아 비율을 부풀렸다.
    - 3D 효과로 인해 막대 높이가 부정확해 보인다.
    - 데이터가 있는 **특정 기간(10월~4월)만 강조**하고 **(5월~9월) 데이터를 생략**했다.

- 해결책
    - 오른쪽 그림처럼 **2D 그래프를 사용**하고 **모든 데이터를 포함**하면 된다.

(ex) Theoretical orientation of sample of therapists 

![Image](https://github.com/user-attachments/assets/6c7155fa-1327-47f1-9632-6dc61002eadc)

- 역시 많은 문제가 있는 그래프이다.
- 문제점
    - 3D 원근법의 불필요한 사용을 했다. : 막대의 길이를 판단하게 어렵게 만들고 읽기가 어려워진다.
    - 막대 그래프는 본질적으로 한쪽에는 범주형 변수가 있고, 다른 축에는 연속형 변수가 있는 2차원 그래프이다.

- 해결책
    - 2D 그래프로 간단하게 만들어서 보기 쉽게 만든다.
    - (물론, 위 예시에서는 여전히 하나의 카테고리가 누락되었고, 백분율 합계가 100%가 되지 않기 때문에 `y축`이 무엇을 나타내는지 불명확하긴 하다.)

### 과도한 색상 및 라인 사용 (Ostentatious Colors and Lines)

(ex) 독일 연방 의회(German Federal Council) 의석 배분 그래프 사례

![Image](https://github.com/user-attachments/assets/f06061b2-0e75-4cb1-a74f-49e1fe6e136f)

- 각 정당을 색상과 스트라이프 패턴으로 구분했다.
- 문제점
    - 너무 많은 색상과 패턴이 혼합되어 가독성이 떨어진다.(16개의 주와 7개의 정당)
    - 중요한 정보 전달이 어려워진다.

- 해결책
    - 단순화된 디자인을 사용한다.
    - 불필요한 패턴 제거 후 더 보기 쉬운 그래프로 개선한다.(removing hatching is much nicer)

## 효과적인 데이터 시각화를 위한 해결책 정리

### 1. 데이터 전달의 핵심을 유지하기
- 데이터가 왜곡되지 않도록 `x축`과 `y축` 을 올바르게 설정한다.
- 3D 효과 및 불필요한 요소를 제거하고 **2D로 명확하게 표현** 한다.

### 2. 적절한 색상을 사용한다.
- **색상을 사용하되, 너무 과하지 않도록** 주의한다.
- **필요할 경우, 색상이 아닌 명암(채도 차이)를 활용** 하여 구분한다.

### 3. 불필요한 장식(Chartjunk)를 제거한다.
- **그림자, 불필요한 3D 효과, 과도한 색상, 복잡한 패턴을 최소화** 한다.
- 데이터를 해석하는 데 **방해되는 요소가 없는지 점검** 한다.


<hr>




