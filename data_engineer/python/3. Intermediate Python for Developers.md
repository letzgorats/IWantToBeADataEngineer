## 🐍 Intermediate Python: 내장 함수, 모듈, 패키지 완전 정복
Python을 조금 더 ‘개발자답게’ 사용하는 첫 걸음은 내장 함수와 모듈, 그리고 외부 패키지를 자유자재로 다루는 것입니다. 이 글에서는 Datacamp의 Intermediate Python for Developers 강의 1장을 바탕으로, 그 핵심 내용을 정리해보았습니다.

### ✅ 1. Python 내장 함수 (Built-in Functions)
Python은 개발 생산성을 극대화하기 위해 많은 기본 함수를 제공합니다. 대표적으로 아래 함수들을 알아두면 좋습니다.

#### 🔹 자주 사용하는 내장 함수
| 함수            | 설명         | 예시                                |
| ------------- | ---------- | --------------------------------- |
| `print()`     | 콘솔에 출력     | `print("Hello")`                  |
| `type()`      | 타입 확인      | `type(3.14)` → `float`            |
| `range()`     | 숫자 생성      | `range(5)` → `0~4`                |
| `max()/min()` | 최댓값/최솟값    | `max([1, 2, 3])`                  |
| `sum()`       | 합계         | `sum([1, 2, 3])`                  |
| `round()`     | 반올림        | `round(3.14159, 2)` → `3.14`      |
| `len()`       | 길이 계산      | `len("Hello")` → `5`              |
| `sorted()`    | 정렬된 리스트 반환 | `sorted([3, 1, 2])` → `[1, 2, 3]` |
| `help()`      | 함수 설명 확인   | `help(len)`                       |

#### 🔹 함수 중첩 사용 예시

```python
# 중첩 없이
total_sales = sum([99.99, 129.99, 85.50])
print(round(total_sales, 2))

# 중첩 사용
print(round(sum([99.99, 129.99, 85.50]), 2))
```
> 이처럼 내장 함수 조합만으로도 강력한 데이터 처리가 가능합니다.

### 📦 2. 모듈 (Modules)

#### 🔹 모듈이란?
- .py 확장자를 가진 **Python 코드 파일**
- 함수, 변수, 클래스 등을 담고 있으며, 재사용 가능한 코드 묶음
- 표준 라이브러리에 포함된 모듈만 해도 200개 이상

#### 🔹 대표적인 내장 모듈 예시

| 모듈            | 용도                         |
| ------------- | -------------------------- |
| `os`          | 운영체제 기능 접근 (파일 경로 등)       |
| `collections` | 고급 자료구조 (deque, Counter 등) |
| `string`      | 문자열 관련 상수 및 함수             |
| `logging`     | 로그 기록                      |
| `subprocess`  | 터미널 명령 실행                  |

#### 🔹 모듈 사용 예시

```python
import os

print(os.getcwd())  # 현재 작업 디렉토리 출력
os.chdir("/Users/username/Desktop")  # 디렉토리 이동
```
#### 🔹 모듈에서 함수만 가져오기

```python
from os import chdir, getcwd
print(getcwd())
```

### 📦 3. 패키지 (Packages)

#### 🔹 패키지란?
- 여러 모듈을 모아둔 디렉토리 구조
- 외부 개발자나 커뮤니티가 만든 **모듈 모음**
- 대표적인 예: pandas, numpy, scikit-learn, matplotlib

#### 🔹 PyPI(Python Package Index)
- 수십만 개의 패키지를 무료로 제공하는 Python 공식 저장소
- [웹사이트](https://pypi.org)

#### 🔹 패키지 설치

```python
python3 -m pip install pandas
```

#### 🔹 pandas 사용 예시

```python
import pandas as pd

sales_data = {
    "user_id": [101, 102, 103],
    "order_value": [120.5, 99.9, 134.2]
}

df = pd.DataFrame(sales_data)
print(df.head())  # 상위 5개 행 출력
```

#### 🔹 CSV 파일 읽기

```python
df = pd.read_csv("sales.csv")
print(df.head())
```

### 🔄 함수 vs 메서드
| 구분                | 예시               | 호출 방식      | 소속                   | 설명                              |
| ----------------- | ------------------- | ---------- | -------------------- | ------------------------------- |
| **함수 (Function)** | `sum([1, 2, 3])` | `함수이름(인자)` | 전역(Global, 내장 혹은 모듈) | 특정 객체에 종속되지 않고 독립적으로 실행됨        |
| **메서드 (Method)**  | `df.head()`      | `객체.메서드()` | 클래스에 소속된 함수          | 객체의 상태를 다루거나 반환하는 **클래스 소속 함수** |

> sum(), print(), len() 등은 전역 함수 혹은 내장 함수(built-in functions) 로, 객체와 무관하게 동작할 수 있습니다.

> df.head()는 DataFrame이라는 **클래스의 인스턴스(df)** 에 소속된 메서드입니다. 객체를 통해 호출되고, 객체의 속성이나 상태를 기반으로 동작합니다

### 마무리

| 작업        | 추천 함수/모듈/패키지           |
| --------- | ---------------------- |
| 합계 계산     | `sum()` + `round()`    |
| 데이터 길이 확인 | `len()`                |
| 데이터 정렬    | `sorted()`             |
| 폴더 이동     | `os.chdir()`           |
| 외부 데이터 분석 | `pandas`, `read_csv()` |
| 터미널 자동화   | `subprocess`, `os`     |
| 모듈 정보 탐색  | `help()`               |

<hr>

## 🛠️ Intermediate Python: 사용자 정의 함수 마스터하기
Python은 이미 강력한 내장 함수와 모듈을 제공하지만, 현실에서는 직접 함수를 정의해야 할 순간이 자주 옵니다. 
이번 글에서는 Datacamp의 Intermediate Python for Developers 2장을 기반으로, 함수의 본질부터 고급 활용까지 정리해보겠습니다.

### 🔧 1. 사용자 정의 함수 만들기

#### ✅ 기본 형태

```python
def average(values):
    total = sum(values)
    rounded_avg = round(total / len(values), 2)
    return rounded_avg
```

#### ✅ 핵심 문법 요약

| 단계         | 설명             | 예시                   |
| ---------- | -------------- | -------------------- |
| `def`      | 함수 정의 시작       | `def average(...):`  |
| 함수 이름      | snake\_case 권장 | `average`            |
| 인자         | 함수 입력값         | `values`             |
| `:` + 들여쓰기 | 함수 블록 시작       | `    return ...`     |
| `return`   | 함수 결과 반환       | `return rounded_avg` |

#### 📌 실전 포인트: DRY 원칙

> DRY = Don't Repeat Yourself

> 반복되는 계산 로직을 함수로 묶어야 유지보수와 재사용성이 극대화됩니다.

### ⚙️ 2. 기본 인자(Default) & 키워드 인자(Keyword)

#### 🔸 Positional Arguments
순서에 따라 인자를 전달하는 방식

```python
round(3.14159, 2)  # 첫 번째: 숫자, 두 번째: 소수점 자리
```

#### 🔸 Keyword Arguments
인자 이름을 명시해서 전달 (순서 무시 가능)

```python
round(number=3.14159, ndigits=2)
```

#### 🔸 Default 인자값

```python
def average(values, rounded=False):
    if rounded:
        return round(sum(values) / len(values), 2)
    else:
        return sum(values) / len(values)
```

- `rounded` 인자를 생략하면 기본값인 False가 사용됨
- 대부분의 사용자가 기대하는 값을 기본값으로 설정해주면 사용자 친화적인 함수가 됨

### 📖 3. Docstring으로 함수 설명하기

#### 🔸 Docstring이란?
함수 정의 바로 아래에 작성하는 함수 설명 문자열

```python
def average(values):
    """Calculate the average of a list of numbers."""
    return sum(values) / len(values)
```

> `help(average)` 또는 `average.__doc__` 로 확인 가능

> `__doc__` 은 dunder-doc 이라고 말함.

#### 멀티라인 Docstring 예시

```python
def average(values, rounded=False):
    """
    Calculate the average of numeric values.

    Args:
        values (list): A list of numeric values.
        rounded (bool): Whether to round the result to 2 decimal places.

    Returns:
        float: The average of the values.
    """
    ...
```

> Args 에 대한 설명을 할 때, 인자(데이터 타입)을 써주고 설명을 써줍니다.

> Returns 에 대한 설명을 할 때, 반환 데이터 타입과 설명을 써줍니다.

> 💡 Google Style이나 NumPy Style 문서화 포맷도 참고해보면 좋습니다. [참고](https://google.github.io/styleguide/pyguide.html#383-functions-and-methods)

### 🌈 4. 가변 인자 (*args, **kwargs)

#### ✅ `*args`: 임의의 수의 인자 받기

```python
def average(*args):
    return sum(args) / len(args)

average(10, 20, 30)  # OK
average(1, 2, 3, 4, 5, 6)  # OK
```

- `*args` 는 **튜플**로 묶임
- 여러 리스트를 한꺼번에 넘길 수도 있음 : `average(*list1, *list2)`

#### `**kwargs`: 키워드 인자 받기

```python
def average(**kwargs):
    return sum(kwargs.values()) / len(kwargs)

average(a=10, b=20, c=30)  # OK
```

- `**kwargs` 는 **딕셔너리**로 묶임
- 딕셔너리를 직접 넘기고 싶다면 `average(**my_dict)` 형태로 사용

### 마무리

| 기능        | 문법                | 예시             |
| --------- | ----------------- | -------------- |
| 사용자 정의 함수 | `def func()`      | `def greet():` |
| 기본 인자     | `param=default`   | `def f(x=1):`  |
| 키워드 인자    | `key=value`       | `f(x=3, y=5)`  |
| 가변 위치 인자  | `*args`           | `f(1, 2, 3)`   |
| 가변 키워드 인자 | `**kwargs`        | `f(a=1, b=2)`  |
| 설명문서      | `"""Docstring"""` | `help(f)`      |

#### 🚀 실무 팁 : 좋은 함수의 조건
- 📌 함수 이름만 보고 무엇을 하는지 알 수 있어야 한다.
- 📌 인자는 직관적이며 기본값을 적절히 포함해야 한다.
- 📌 재사용 가능성이 높아야 한다.
- 📌 에러 발생 가능성을 docstring에 명시하면 더 좋다.

<hr>

## ⚡ Intermediate Python : 람다 함수와 에러 핸들링
이번 포스트에서는 Python에서 짧고 유용한 람다 함수, 그리고 에러를 다루는 방법을 알아봅니다. 
실무에서는 간결한 코드를 작성하는 것도 중요하지만, 예상치 못한 입력이나 실패를 우아하게 처리하는 것도 매우 중요하죠.

### 🧠 1. 람다 함수 (Lambda Functions)

#### ✅ 람다 함수란?
- **이름 없는 함수** 를 정의할 수 있는 방법
- 한 줄로 표현 가능하며, 보통 일회성 계산이나 map/filter 등과 함께 사용

```python
# 일반 함수
def square(x):
    return x ** 2

# 람다 함수
square = lambda x: x ** 2
```

#### ✅ 기본 문법

```python
lambda [인자]: [표현식]
```
- `return` 키워드 불필요
- 표현식에는 함수 본문이 들어가면 된다.
- 여러 인자도 가능 : `lambda x,y: x+y`

#### 📌 예제: 평균 계산 함수

```python
average = lambda x: sum(x) / len(x)  # 변수에 람다함수 선언하기
print(average([3, 6, 9]))  # 활용하기 : 6.0  
```

#### 📌 예제: 제곱 계산

```python
(lambda x, y: x ** y)(2,3)  # x의 y 제곱 : 8
```

#### 📌 map() 과 함께 사용

```python
names = ['alice', 'BOB', 'ChArLiE']
capitalized = list(map(lambda x: x.capitalize(), names))
print(capitalized)  # ['Alice', 'Bob', 'Charlie']
```

#### 💡 언제 람다를 쓰고 언제 일반 함수를 써야 할까?

| 상황             | 추천 방식         |
| -------------- | ------------- |
| 복잡한 로직, 재사용 많음 | ✅ 일반 함수 (def) |
| 단순한 일회성 계산     | ✅ 람다 함수       |

### 🧨 2. Python 에러 이해하기

#### ✅ 에러란?
- 코드 실행 도중 규칙 위반이 발생할 때 생기는 문제
- 예외(Exception) 라고도 함
- 프로그램이 중단되므로, 미리 핸들링하는 습관이 중요

<img width="315" height="401" alt="image" src="https://github.com/user-attachments/assets/23fb6d58-6bb8-44ff-aab9-2afa5c091e93" />

[참고](https://docs.python.org/3/library/exceptions.html#exception-hierarchy)

#### ✅ 대표적인 에러 종류
| 에러 종류        | 설명                           | 예시                |
| ------------ | ---------------------------- | ----------------- |
| `TypeError`  | 타입이 맞지 않을 때                  | `"hello" + 3`     |
| `ValueError` | 값이 유효하지 않을 때                 | `float("hello")`  |
| `KeyError`   | 딕셔너리나 DataFrame에 없는 key 접근 시 | `df["not_exist"]` |

#### 📌 Traceback 읽기 요령(ex. Traceback from packages)

<img width="948" height="352" alt="image" src="https://github.com/user-attachments/assets/304b8f37-8a20-47eb-828e-694c84bb21e1" />

> 오직 8줄만 코드로 썼는데, 3803번째 줄에서 오류가 발생했음을 보여줍니다. 잘 보면, 3803번째 줄이 `base.py` 라는 파일에 있다는 사실을 나타냅니다. 다시 말해, 우리가 하위 집합을 시도했을 때 pandas 파일 base.py 가 실행되었다는 것이죠.
> 하단에는 KeyError 가 발생했으며, 아래 코드로 인해 오류가 발생했다는 것을 보여줍니다.

<img width="945" height="147" alt="image" src="https://github.com/user-attachments/assets/f5d7f59b-0a74-47d3-9c03-c63e320fdffd" />

> 그 후, `frame.py` 의 코드가 실행되어 키나 열 이름에 접근하려고 시도한 것을 볼 수 있습니다.

<img width="943" height="352" alt="image" src="https://github.com/user-attachments/assets/617aaa80-0748-4810-b656-c723072f7506" />

> 마지막으로 `base.py` 에서 코드는 pandas 가 있는 곳인 raise KeyError를 말합니다. 개발자는 키가 존재하지 않기 때문에 의도적으로 오류를 반환했습니다.

#### 📌 간략 정리

```python
Traceback (most recent call last):
  File "main.py", line 3, in <module>
    print(df["not_exist"])
KeyError: 'not_exist'
```
- **마지막 줄** : 에러의 종류와 메시지
- **중간 줄** : 에러가 발생한 코드 위치
- **위쪽 줄들** : 에러가 전파된 경로 (다른 모듈, 라이브러리 내부까지)

<img width="936" height="741" alt="image" src="https://github.com/user-attachments/assets/13e3ec90-53ea-4c42-a3a6-d29b9a624164" />

<img width="955" height="214" alt="image" src="https://github.com/user-attachments/assets/a227a8b0-7c50-4f8f-be89-44ddd9af4781" />

> the error occurs in line 59 due to incorrect use of the `get()` function that is defined across lines `62` to `73` in api.py.

<img width="777" height="154" alt="image" src="https://github.com/user-attachments/assets/a0e00918-9834-4b62-b1bb-8217858a29ba" />

<img width="601" height="151" alt="image" src="https://github.com/user-attachments/assets/6f0dc3d9-de05-4c9c-ba9f-d55b529100aa" />

> The issue is that the content argument doesn't exist in the requests.get() function, so removing it will fix the code.


### 🛡️ 3. 에러 처리: try-except & raise

#### ✅ try-except 기본 구조

```python
try:
    result = 10 / 0
except ZeroDivisionError:
    print("0으로 나눌 수 없습니다.")
```

```python
def average(values):
    try:
        # Code that might cause an error
        average_value = sum(values) / len(values)
        return average_value
    except:
        # Code to run if an error occurs
        print("average() accepts a list or set. Please provide a correct data type.")
```

#### ✅ raise 키워드로 직접 에러 발생시키기

```python
def average(values):
    if not isinstance(values, (list, set, tuple)):
        raise TypeError("List, set, or tuple만 지원됩니다.")
    return sum(values) / len(values)
```

```python
def average(values):
    # Check data type
    if type(values) in ["list", "set"]:
        # Run if appropriate data type was used
        average_value = sum(values) / len(values)
    else:
        # Run if an Exception occurs
        raise TypeError("average() accpets a list or set, please provide a correct data type.")
```

#### ✅ 언제 어떤 방식?

| 방식           | 용도                              | 결과                        |
| ------------ | ------------------------------- | ------------------------- |
| `try-except` | **실행을 계속하고 싶을 때**               | **에러 발생 → 메시지 출력 후 다음 코드 실행** |
| `raise`      | **에러로 종료시키되, 메시지를 명확히 하고 싶을 때** | **사용자 정의 에러 메시지로 종료**         |

### 🎯 정리 요약
| 주제               | 핵심 포인트                            |
| ---------------- | --------------------------------- |
| **람다 함수**        | 간단한 계산에는 lambda, 복잡한 로직은 def      |
| **에러 종류**        | TypeError, ValueError, KeyError 등 |
| **traceback 분석** | 에러 위치와 경로를 순차적으로 읽는 연습 필요         |
| **에러 핸들링**       | try-except, raise 적절히 혼용          |
| **함수 설계 팁**      | 사용자가 잘못 쓸 가능성까지 고려하자!             |

- [Python 예외 문서 참고](https://docs.python.org/3/library/exceptions.html)

### 마무리

지금까지 Python 함수의 고급 기능인 람다(lambda) 와 에러 처리에 대해 알아봤습니다.
개발자는 코드가 잘 동작할 때보다, 실패할 때 어떻게 반응하는지가 더 중요할 수 있습니다.
깔끔한 코드와 친절한 에러 메시지, 그리고 람다의 활용까지 익히면 훨씬 더 “성숙한 파이썬 개발자”가 될 수 있습니다.

<hr>
