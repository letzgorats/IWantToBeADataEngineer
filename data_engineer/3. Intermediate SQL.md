# Intermediate SQL

## COUNT(*)

- COUNT(*) 는 NULL(=missing value)값을 포함해서 다 센다.

## COUNT(특정 컬럼)

- COUNT(특정 컬럼) 은 NULL(=missing value)값을 제외해서 센다.

그렇기 때문에, WHERE 특정컬럼 IS NOT NULL 을 WHERE 절에 걸어주지 않고, 바로 COUNT(특정컬럼)으로 해도 동일한 결과를 보여주는 것이다

## 집계함수

### numeric 한 데이터만 올 수 있는 집계함수
- AVG(), SUM()

### 다양한 데이터 타입
- COUNT(), MIN(), MAX()
- 스트링 데이터는 알파벳 순서로 min max가 정해진다. A<->Z

## ROUND

- ROUND()는 2개의 파라미터를 받는데, 뒤 파라미터는 생략이 가능하고, 딱히 써주지 않으면 ROUND(__,0) 과 같다.
- ROUND(__, 양수) : 소수점 오른쪽(아래)
- ROUND(__, 음수) : 소수점 왼쪽(위)

(ex)
ROUND(45.65,1) = 45.7
ROUND(45.65,-1) = 50

## GROUP BY 
- 그룹핑이 필요한 경우 집계 기준을 지정하는 역할
- SELECT 절에 없는 컬럼은 GROUP BY 에 못 적는다.(SELECT절에 있는 컬럼과 맞춰줘야 한다.)
- 단, GROUP BY 에는 없는데 SELECT 에는 있는 컬럼은 집계함수를 활용해서 사용하면 된다.(=집계함수 관련한 컬럼은 GROUP BY에 없어도 된다)

## HAVING vs WHERE
- HAVING은 그룹핑된 레코드를 필터링하는 것 - 집계된 결과에 조건을 걸 때는 WHERE 대신 HAVING 절을 사용해야 한다.(집계 후 필터링)
- WHERE는 개개인의 레코드를 필터링하는 것 - (집계 전 필터링)

## 쿼리 순서
- FROM -> WHERE -> GROUP BY -> HAVING -> SELECT -> ORDER BY -> LIMIT
- 그렇기 때문에, SELECT 절에 있는 Alias를 ORDER BY 에서만 쓸 수 있는 것이다.
