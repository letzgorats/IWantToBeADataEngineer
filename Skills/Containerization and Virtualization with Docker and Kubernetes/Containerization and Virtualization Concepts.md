## 가상화(Virtualization) 개념과 중요성

- 이 챕터에서는 다음과 같은 내용을 다룰 것이다.
1. 가상화란 무엇인가?
2. 물리적 머신의 한계
3. 가상 머신(Virtual Machine)의 개념과 장점
4. 가상화의 다양한 형태

## 1. 가상화란 무엇인가?
- 우리는 일상에서 노트북, 스마트폰과 같은 물리적 장치(Physical Machines)를 사용한다. 서버(Server) 역시 물리적 컴퓨터의 한 종류로, 네트워크를 통해 클라이언트(Client)에게 서비스를 제공하는 역할을 한다.
- 하지만, 물리적 머신만으로 다양한 요구를 처리하기에는 몇 가지 한계가 있다. 이를 해결하기 위해 등장한 개념이 바로 **가상화(Virtualization)** 이다.
- 가상화는 **컴퓨터 시스템을 논리적으로 분리하여 여러 개의 가상환경을 만드는 기술** 이다. 가장 대표적인 형태가 **가상머신(Virtual Machine,VM)** 이다.

## 2. 물리적 머신의 한계
- 물리적 컴퓨터는 다음과 같은 한계가 존재한다.
  - `비용 문제` : 더 많은 작업을 처리하려면 추가적인 하드웨어를 구매해야 하며, 유지보수 비용도 증가하게 된다.
  - `관리의 복잡성` : 여러 대의 물리적 서버를 유지하려면 업데이트와 수리 과정에서 많은 시간이 소요될 수 있다.
  - `확장성 부족` : 성능을 업그레이드하려면 기존의 하드웨어를 교체해야 하며, 이는 비용과 시간이 많이 드는 작업이다.

이러한 문제들을 해결하기 위해 **가상화 기술** 이 도입되었다.

## 3. 가상머신(Virtual Machine, VM) 이란?
- 가상머신(VM)은 **하나의 물리적 컴퓨터** 안에서 **독립적으로 운영**되는 **가상의 컴퓨터 시스템**이다.
- 즉, **하나의 호스트(Host) 머신에서 여러 개의 가상 머신을 실행**할 수 있으며, 각 VM은 **자체 운영체제(OS)와 애플리케이션을 갖출 수 있다.**
- 가상 머신은 각각 독립적으로 실행되며 서로 간섭하지 않는다. 따라서, 물리적 하드웨어를 추가하지 않고도 여러 개의 시스템을 운영할 수가 있다.

### 가상 머신의 장점
- `자원 활용 극대화` : **여러 개의 가상 머신을 하나의 물리적 서버에서 운영**할 수 있어 **비용을 절감하고 자원을 효율적으로 사용**할 수 있다.
- `유연한 확장성` : 하드웨어를 직접 교체하지 않아고, **필요할 때 VM 의 리소스를 조정**할 수 있다.
- `보안성 향상` : **VM 간의 격리**가 이루어지므로, 한 VM에서 발생한 보안 문제가 다른 VM 으로 확산되지 않는다.
- `운영체제(OS) 다양성` : 하나의 물리적 머신에서 Window,Linux,macOS 등 서로 다른 OS를 동시에 실행할 수 있다.

## 4. 가상화(Virtualization)의 다양한 형태
- 가상화에는 다양한 수준(Level)이 있다.
- `전체 가상화(Full Virtualization)` : **하드웨어와 소프트웨어를 모두 가상화**하여 완전한 가상머신(VM) 을 생성하는 방식이다.
- `운영체제 가상화(OS Virtualization)` : **하나의 운영체제 내에서 독립적인 실행환경**을 제공하는 방식이다.(**컨테이너 기술과 관련**)
- `스토리지 가상화(Storage Virtualization)` : **여러 개의 물리적 스토리지를 하나의 논리적 스토리지로 통합**하는 방식이다.

이처럼 **가상화** 는 단지 **VM을 생성하는 것뿐만 아니라 다양한 IT 인프라에서 활용될 수 있는 중요한 기술** 이다.

<hr>
<hr>

## 컨테이너화(Containerization)의 개념과 중요성
- 이전 챕터에서는 가상화(Virtualization)에 대해 배웠다면, 이번에는 컨테이너화(Containerization)에 대해 알아보자.
- **컨테이너화는 운영체제 수준의 가상화**(Operating System-Level Virtualization)로, 현대 애플리케이션 배포 방식에서 중요한 역할을 한다.
- 이 챕터에서는 다음과 같은 내용을 다룰 것이다.
1. 컨테이너화란 무엇인가?
2. 컴퓨팅 환경(Environment)이란?
3. 운영체제(OS) 수준의 가상화
4. 컨테이너(Container) 개념과 특징
5. 컨테이너의 장점
6. 컨테이너 vs 가상머신 비교

## 1. 컨테이너화란 무엇인가?
- 가상화는 하드웨어, 소프트웨어 등 다양한 요소를 가상화할 수 있다. **컨테이너화(Containerization)는 가상화의 한 형태**로, **운영체제 수준(OS-Level)에서 이루어지는 가상화 기술**이다.
- 컨테이너화를 통해 **하나의 운영체제(OS) 내에서 독립적인 실행환경을 생성**할 수 있다.
- 즉, 개별 애플리케이션이 필요한 소스코드, 라이브러리, 종속성(Dependencies)등을 포함한 환경을 갖춘 컨테이너에서 실행된다.

## 2. 컴퓨팅 환경(Environment)이란?
- 컨테이너화를 이해하려면 먼저 **환경(Environment)**개념을 정리해야 한다.
- 컴퓨팅 환경이란, **애플리케이션이 실행되는 시스템**을 의미하며, 다음 요소로 구성된다.
  - 운영체제(OS, Operating System)
  - 하드웨어(Hardware)
  - 소프트웨어(Software)
  - 기타 필요한 리소스(Resources)
- 컨테이너는 이러한 환경을 **애플리케이션별로 독립적으로 구성**하는 방식이다.

## 3. 운영체제(OS) 수준의 가상화

![image](https://github.com/user-attachments/assets/b06fa407-4cd9-488d-8f51-a563ccf3fcee)

- 컨테이너화는 **운영체제 자체를 가상화하는 방식** 으로, 기존의 전체 가상화(Full Virtualization)와 차별화된다.
  - 기존 가상화(`VM`) : **하드웨어를 가상화**하여 **여러 개의 독립적인 운영체제**를 실행
  - 운영체제 수준의 가상화(`컨테이너`) : **하나의 운영체제(OS) 내에서 독립적인 실행 공간**을 생성
- 즉, 컨테이너화는 **운영체제 커널(Kernel) 을 공유** 하면서 애플리케이션 실행을 위한 가상 환경을 제공한다.

* Kernel(커널)이란? : 운영체제의 핵심 부분으로, 하드웨어와 소프트웨어 간의 **상호 작용** 을 담당하는 역할을 한다.

## 4. 컨테이너(Container)란?

![image](https://github.com/user-attachments/assets/dd9d98af-9ab8-4bb3-8ea7-ca7ea37c4dc7)

- **컨테이너(Container)는 운영체제 수준의 가상화된 환경**을 의미하며, **각 애플리케이션을 독립적으로 실행할 수 있도록 격리된 공간**을 제공한다.
- 컨테이너 내부에는 다음과 같은 요소가 포함된다.
  - 애플리케이션 코드
  - 필요한 라이브러리 및 종속성(Dependencies)
  - 환경 설정(Configuration)
- 컨테이너는 마치 하나의 작은 독립적인 컴퓨터처럼 동작하며, **같은 운영체제 내에서 서로 격리된 상태로 실행**된다.

```
- The definition of containerization is twofold
- First, containerization is virtualization at the OS-level.
- Second, containerization is the process of packaging an application and its dependencies into a container.
```

## 컨테이너의 특징과 장점

![image](https://github.com/user-attachments/assets/da6489d3-3249-45ea-87c5-b9429883f0d0)

- 컨테이너 기술은 기존의 물리적 머신이나 가상 머신보다 다양한 이점을 제공한다.

### 1. 애플리케이션 간 독립성(Isolation)
- 각 컨테이너는 자체적인 실행 환경을 가지고 있어, 다른 컨테이너의 실행에 영향을 주지 않는다.
- 예를 들어, 한 컨테이너에서 문제가 발생하더라도 다른 컨테이너에 영향을 주지 않는다.

### 2. 빠른 배포 및 확장성(Scalabilty)
- 컨테이너는 가볍고 빠르게 실행된다.
- VM처럼 운영체제 전체를 실행할 필요가 없으며, **필요한 부분만 로드하여 즉시 실행**이 가능하다.

### 3. 높은 이식성(Portability)
- 컨테이너는 **어느 환경에서나 동일하게 동작**한다.
- 예를 들어, 로컬 개발 환경에서 만든 컨테이너를 **클라우드, 서버, 다른 개발자의 컴퓨터** 에서도 동일하게 실행할 수 있다.

### 4. 자원 효율성(Resource Efficiency)
- 가상 머신(VM)은 각 OS 를 실행해야 하므로 리소스를 많이 사용한다.
- 반면, 컨테이너는 **운영체제 커널을 공유** 하므로 적은 리소스로 더 많은 애플리케이션 실행이 가능하다.

## 컨테이너 vs 가상머신(VM) 비교

![image](https://github.com/user-attachments/assets/994b89af-bce6-4983-92f2-7490d5fa381f)

- 컨테이너 기술의 대표적인 예로 `Docker` 와 `Kubernetes` 가 있다.
- `Docker` 는 개별 컨테이너를 생성하고 실행하는 도구
- `Kubernetes` 는 여러개의 컨테이너를 효율적으로 관리하는 오케스트레이션 도구

<hr>
<hr>

## 가상화(Virtualization)와 컨테이너화(Containerization) 비교
- 이번 챕터에서는 가상화와 컨테이너화의 차이점을 비교하고 각각의 사용사례와 장점을 살펴보자.

## 1. 가상화 vs 컨테이너화 : 개념 비교

### 가상화(Virtualizatino)란?
- `가상화`는 `컴퓨터 자원을 가상환경에서 실행할 수 있도록 하는 기술`이다.
- `가상화`를 통해 **하나의 물리적 머신에서 가상 머신(Virtual Machine,VM) 을 생성**하여 **독립적인 운영체제**와 **애플리케이션을 실행**할 수 있다.

### 컨테이너화(Containerization)란?
- `컨테이너화`는 `운영체제(OS) 수준에서 가상화`를 수행하는 기술이다.
- **애플리케이션과 필요한 라이브러리 및 종속성을 컨테이너(Container) 라는 독립된 환경에 패키징**하여 실행할 수 있도록 한다.

### 차이점 요약

![image](https://github.com/user-attachments/assets/60fd14cb-72ca-4f0b-afa2-87f0391301ce)

## 2. 컨테이너화의 주요 소프트웨어
- 컨테이너 기술을 활용하려면 적절한 도구를 사용해야 한다.
- `Docker` : `컨테이너를 생성, 실행 및 배포` 하는 가장 대표적인 플랫폼이다.
- `Kubernetes` : `여러 개의 컨테이너를 자동으로 관리`하고 `배포, 확장, 조정 하는 오케스트레이션 도구`이다.
- `Kubernetes` 는 `컨테이너 여러 개를 동시에 관리`하는 역할을 한다.
  
## 3. 가상화의 주요 소프트웨어
- 가상화를 지원하는 대표적인 소프트웨어로는 다음과 같은 것들이 있다.
- `Oracle VM VirtualBox` : 오픈소스 기반의 가상 머신 관리 소프트웨어
- `VMware` : 기업 환경에서 많이 사용되는 가상 머신 관리 소프트웨어
- 이러한 도구를 활용하면 여러 개의 가상 머신을 생성하고 관리할 수 있다.

## 4. `가상화` 의 활용사례

### 서버 자원 최적화
- 하나의 물리적 서버에서 `여러 개의 가상 머신을 실행`하여 **서버 자원을 효율적으로 활용** 할 수 있다.

### 레거시 시스템 유지
- 기업에서는 기존의 레거시(구형) 소프트웨어를 유지해야 하는 경우가 많다.
- 가상화를 사용하면 `오래된 운영체제와 소프트웨어를 최신 하드웨어에서도 실행` 할 수 있다.

## 5. `컨테이너화` 의 활용 사례

### 애플리케이션 격리 및 배포
- 컨테이너는 **애플리케이션과 그 필요한 환경을 독립적으로 패키징** 하여 배포가 쉽다.

### 마이크로서비스 아키텍처(Microservices)
- `컨테이너`는 **`마이크로서비스 아키텍처`** 를 구현하는 데 최적화된 기술이다.
- 애플리케이션을 `여러 개의 작은 서비스로 나누고`, 각 서비스를 **`독립적인 컨테이너에서 실행`** 할 수 있다.
- 이를 통해 **유연한 배포 및 확장이 가능** 하며, 각 서비스에 **다른 기술 스택을 적용** 할 수도 있다.

## 6. 컨테이너 오케스트레이션(Orchestration)
- `컨테이너 오케스트레이션`이란 `여러 개의 컨테이너를 자동으로 배포, 확장, 조정`하는 기술이다.
- 이를 쉽게 이해하기 위해 오케스트라를 떠올려 보면 된다.
  - `컨테이너 오케스트레이션` = `오케스트라 지휘자`
  - 컨테이너 각각이 `개별 연주자` 라면, `Kubernetes` 는 이들을 조율하는 `지휘자 역할`을 한다.
- 즉, `Kubernetes` 는`컨테이너들을 체계적으로 관리`하여 애플리케이션이 원활하게 실행될 수 있도록 한다.

## 7. 컨테이너 vs 가상 머신 : 장점 비교

![image](https://github.com/user-attachments/assets/1edd9fd8-a510-4ebf-8078-d6496b12e6ec)

<보안>
- `VM` 은 `전체 하드웨어를 에뮬레이션`하기 때문에 호스트 OS 커널을 다른 컨테이너와 공유하는 컨테이너화보다 `더 강력하고 안전한 격리를 제공`한다.
- 공격이 발생하는 경우 `호스트 OS 커널`에 엑세스하면 해당 호스트의 모든 컨테이너에 액세스하게 된다.(컨테이너는 동일한 운영 체제를 공유하므로)

<공간, 이식성, 확장성>
- `VM`보다 `컨테이너`가 공간을 덜 차지하기 때문에 사용하면 오버헤드 비용을 낮출수 있따.
- `컨테이너` 는 가볍기 때문에 `가상 머신` 보다 이식성과 확장성이 더 뛰어나다.

- 반면, `VM`은 여러 운영체제를 실행할 수 있는 유연성을 제공한다.
- `VM`은 동일한 호스트 시스템에 시스템을 설치하고 최신 하드웨어에서 레거시 애플리케이션도 지원한다.

결론적으로 **가상 머신과 컨테이너는 각각 장점과 단점이 다르므로, 사용 목적에 맞춰 선택**해야 한다.
- 보안이 중요한 경우 or 레거시 시스템을 그대로 쓰고 싶은 경우 -> `가상머신(VM)`
- 빠른 배포와 확장이 필요한 경우 -> `컨테이너(Container)`

<hr>
<hr>

## 컨테이너화(Containerization)와 도커(Docker)의 개념
- 이전 챕터에서는 컨테이너화(Containerization)의 개념을 더욱 깊이 이해하고, 이를 가능하게 해주는 가장 대표적인 도구인 Docker 에 대해 살펴보자.

## 1. 컨테이너(Container)란?
- 컨테이너는 애플레케이션 실행하기 위한 독립적인 환경을 제공한다.
- 컨테이너에는 애플리케이션이 정상적으로 실행도기 위해 필요한 `소스코드`,`라이브러리`,`종속성(Depenecies)`, `설정(Configuration)` 등이 포함된다.

## 2. Docker란?
- `Docker`는 컨테이너화(Containerization)를 쉽게 구현할 수 있도록 도와주는 `오픈 소스 플랫폼`이다.
- `오픈 소스(Open-source)`란 `누구나 자유롭게 사용, 수정, 배포할 수 있는 소프트웨어`를 의미한다.
- `Docker`가 인기 있는 이유
  - `컨테이너 기술을 표준화`하여 `누구나 쉽게 사용할 수 있도록` 한다.
  - `설치와 실행이 간편`하며, `개발 환경`과 `배포환경을 일치`시키는 데 유용하다.
  - `Stack Overflow` 개발자 설문조사에서 가장 많이 사용되는 기술 중 하나로 선정된다.

## 3. `Docker`의 핵심 역할
- Docker는 `컨테이너 생성(Build)`, `배포(Distribute)`, `실행(Run) 및 관리(Manage)` 를 돕는 도구이다.
- 즉, `컨테이너 라이프사이클을 관리하는 소프트웨어 플랫폼`이라고 할 수 있다.

## 4. Docker의 주요 구성 요소
- Docker의 아키텍처를 구성하는 중요한 요소들을 살펴보자.
| 구성요소        |       설명  | 
|---------------|-------------|
|Docker Desktop|Mac, Linux, Windows 에서 Docker 를 실행할 수 있는 **GUI(그래픽 사용자 인터페이스)** 제공|
|Docker Engine|Docker의 핵심 엔진으로, **컨테이너를 실행하는 서버**|
|Docker CLI| **터미널(Command Line Interface)을 통해 Docker 명령어를 실행**할 수 있는 도구|
|Docker Daemon| 컨테이너 실행, 이미지 빌드 등 **핵심 작업을 처리하는 백그라운드 프로세스**|
|Docker 이미지(Image)| **컨테이너를 실행하기 위한 설정** 및 **파일이 포함된 불변(immutable) 템플릿**|
|Docker 컨테이너(Container) | Docker 이미지 기반으로 실행되는 **독립적인 환경**|
|Docker 레지스트리(Registry) | Docker **이미지를 저장하고 공유하는 공간**(ex.Docker Hub)|

## 5. Docker 설치 및 실행
- Docker를 사용하려면 먼저 **Docker Desktop 을 설치**해야 한다.
- `Docker Desktop`은 Mac, Linux, Windows 에서 사용할 수 있으며, **GUI 환경**을 통해 컨테이너와 이미지를 쉽게 관리할 수 있다.
- 또한, `Docker Desktop` 에는 `Docker Engine` 이 포함되어 있어 `명령줄 인터페이스(CLI)` 또는 `GUI` 를 이용해 `컨테이너를 실행`할 수 있다.

## 6. `Docker` 의 클라이언트-서버 아키텍처
- `Docker`는 `클라이언트-서버(Client-Server) 아키텍처`를 따른다.
  - `Docker Client`(사용자 측) : **사용자가 Docker 명령어를 입력하는 인터페이스**(CLI 또는 Docker Desktop) 
  - 'Docker Daemon`(서버 측) : Docker의 핵심 서비스로, **컨테이너를 실행하고 관리하는 역할을 담당**
- 즉, **사용자는 `CLI` 또는 `GUI` 를 통해 명령을 입력**하면, **`Docker Daemon` 이 이를 받아 실행하는 방식**으로 동작한다.

## 7. `Docker` 오브젝트 개요
- Docker에서 다루는 주요 오브젝트는 다음과 같다.

### Docker 이미지 (Image)
- 컨테이너 실행을 위한 불변(Immutable) 템플릿
- 애플리케이션 코드, 라이브러리, 실행 환경 등이 포함된다.
- 하나의 이미지를 기반으로 여러 개의 컨테이너 생성 가능하다.

### Docker 컨테이너 (Container)
- Docker 이미지로부터 생성되는 실행 가능한 환경
- 격리된 상태에서 애플리케이션 실행 가능
- 필요할 때 빠르게 생성, 실행, 삭제 가능

### Dockerfile : 이미지 생성의 기본
- `Docker 이미지`는 `Dockerfile 이라는 설정 파일을 기반`으로 생성된다.
- `Dockerfile` 은 `컨테이너를 빌드하는 설정 스크립트(Recipe) 역할`을 한다.
```dockerfile
FROM python:3.8  # Python 3.8 환경을 사용
COPY . /app      # 현재 폴더의 파일을 컨테이너 내부로 복사
WORKDIR /app     # 작업 디렉토리 설정
RUN pip install -r requirements.txt  # 필요한 패키지 설치
CMD ["python", "app.py"]  # 컨테이너 실행 시 실행할 명령어
```

### 아날로지(비유)로 이해하는 Docker 이미지 & 컨테이너
- `Dockerfile` : 집을 짓기 위한 설계도(Recipe)
- `Docker 이미지` : 설계도를 기반으로 만들어진 집 모델(House Model)
- `Docker 컨테이너` : 실제로 지어진 완성진 집(Instance of House)
즉, 같은 `Docker 이미지` 를 기반으로 `여러 개의 컨테이너`를 실행할 수 있다.

## 8. Docker 이미지 공유 : Docker 레지스트리
- Docker에서는 생성한 이미지를 Docker 레지스트리(Docker Registry)에 저장하고 공유할 수 있다.
  - `Docker Hub` : 가장 널리 사용되는 퍼블릭(public) Docker 레지스트리
  - `Private Registry` : 기업 내부에서 사용되는 프라이빗(private) 레지스트리
- 개발자는 `Docker Hub` 또는 `자체 레지스트리`를 활용하여 `이미지를 쉽게 공유하고 배포`할 수 있다.

## 9. 컨테이너 vs 가상 머신 : Docker의 장점

![image](https://github.com/user-attachments/assets/37562f70-7411-400b-bc92-e8b0b0223b0a)

- `Docker 컨테이너`는 `가볍고 빠르며`, `동일한 환경을 유지`할 수 있어 `배포 및 개발 효율성을 극대화`할 수 있다.












